<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" media="screen" href="/~d/styles/atom10full.xsl"?><?xml-stylesheet type="text/css" media="screen" href="http://feeds.feedburner.com/~d/styles/itemcontent.css"?><feed xmlns="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0"><title>JBoss Tools Aggregated Feed</title><link rel="alternate" href="http://tools.jboss.org" /><subtitle>JBoss Tools Aggregated Feed</subtitle><dc:creator>JBoss Tools</dc:creator><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="self" type="application/atom+xml" href="http://feeds.feedburner.com/jbossbuzz" /><feedburner:info uri="jbossbuzz" /><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="hub" href="http://pubsubhubbub.appspot.com/" /><entry><title>Reducing the startup overhead of SystemTap monitoring scripts with syscall_any tapset</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/Zc3nERqg3Z0/" /><category term="community" scheme="searchisko:content:tags" /><category term="fedora" scheme="searchisko:content:tags" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="instrumentation" scheme="searchisko:content:tags" /><category term="performance" scheme="searchisko:content:tags" /><category term="Performance Tuning" scheme="searchisko:content:tags" /><category term="Red Hat Enterprise Linux" scheme="searchisko:content:tags" /><category term="rhel" scheme="searchisko:content:tags" /><category term="systemtap" scheme="searchisko:content:tags" /><author><name>William Cohen</name></author><id>searchisko:content:id:jbossorg_blog-reducing_the_startup_overhead_of_systemtap_monitoring_scripts_with_syscall_any_tapset</id><updated>2018-11-08T16:00:30Z</updated><published>2018-11-08T16:00:30Z</published><content type="html">&lt;p&gt;A number of the &lt;a href="https://developers.redhat.com/blog/tag/systemtap/"&gt;SystemTap&lt;/a&gt; script examples in the newly released SystemTap 4.0 available in Fedora 28 and 29 have reduced the amount of time required to convert the scripts into running instrumentation by using the &lt;code&gt;syscall_any&lt;/code&gt; tapset.&lt;/p&gt; &lt;p&gt;This article discusses the particular changes made in the scripts and how you might also use this new tapset to make the instrumentation that monitors system calls smaller and more efficient. (This article is a follow-on to my previous article: &lt;a href="https://developers.redhat.com/blog/2018/10/30/analyzing-reducing-systemtaps-startup-cost/#more-524657"&gt;Analyzing and reducing SystemTap’s startup cost for scripts&lt;/a&gt;.)&lt;/p&gt; &lt;p&gt;The key observation that triggered the creation of the &lt;code&gt;syscall_any&lt;/code&gt; tapset was a number of scripts that did not use the &lt;code&gt;syscall&lt;/code&gt; arguments. The scripts often used &lt;code&gt;syscall.*&lt;/code&gt; and &lt;code&gt;syscall.*.return&lt;/code&gt;, but they were only concerned with the particular &lt;code&gt;syscall&lt;/code&gt; name and the return value. This type of information for all the system calls is available from the &lt;code&gt;sys_entry&lt;/code&gt; and &lt;code&gt;sys_exit&lt;/code&gt; kernel tracepoints. Thus, rather than creating hundreds of kprobes for each of the individual functions implementing the various system calls, there are just a couple of tracepoints being used in their place.&lt;/p&gt; &lt;p&gt;&lt;span id="more-528427"&gt;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;Let&amp;#8217;s take a concrete look at the impact of using &lt;code&gt;syscall_any.*.return&lt;/code&gt; in place of &lt;code&gt;syscall.*.return&lt;/code&gt; with the &lt;code&gt;errno.stp&lt;/code&gt; example on a Fedora 28 machine. This &lt;code&gt;errno.stp&lt;/code&gt; script provides system-wide information about the system calls that return error codes. It prints a separate line for each combination of PID, system call, and error. At the end of each line is a count of the times that particular combination was seen. Below is a version of the script using &lt;code&gt;syscall.*.return&lt;/code&gt;.&lt;/p&gt; &lt;pre&gt;#!/usr/bin/stap # # Copyright (C) 2010, 2018 Red Hat, Inc. # By Dominic Duval, Red Hat Inc. # dduval@redhat.com # # Monitors errors returned by system calls. # # USAGE: stap errno.stp # global execname, errors probe syscall.*.return { errno = retval if ( errno &amp;#60; 0 ) { p = pid() execname[p]=execname(); errors[p, errno, name] &amp;#60;&amp;#60;&amp;#60; 1 } } probe end { printf("\n") printf("%8s %-32s %-16s %-12s %8s\n", "PID", "Syscall", "Process", "Error", "Count") foreach ([pid, error, thissyscall] in errors- limit 20) { printf("%8d %-32s %-16s %-12s %8d\n", pid, thissyscall, execname[pid], error ? errno_str(error) : "", @count(errors[pid, error, thissyscall]) ) } } global prom_arr probe prometheus { foreach ([p, errno, name] in errors- limit 20) { prom_arr[p, errno, name] = @count(errors[p, errno, name]) } @prometheus_dump_array3(prom_arr, "count", "pid", "errno", "name") delete prom_arr } &lt;/pre&gt; &lt;p&gt;We can use the &lt;code&gt;stap_time.stp&lt;/code&gt; script discussed in my &lt;a href="https://developers.redhat.com/blog/2018/10/30/analyzing-reducing-systemtaps-startup-cost/"&gt;previous SystemTap article&lt;/a&gt; to record the time required by the various SystemTap phases. The &lt;code&gt;stap_time.stp&lt;/code&gt; script will be running in another window.&lt;/p&gt; &lt;p&gt;Below is a run of the &lt;code&gt;old_errorno.stp&lt;/code&gt; script that instruments the system calls with the &lt;code&gt;syscall.*.return&lt;/code&gt; probe points. The command line has &lt;code&gt;-m old_error&lt;/code&gt; to keep the resulting kernel module &lt;code&gt;old_errno.ko&lt;/code&gt; around, the keep temporary files (&lt;code&gt;-k&lt;/code&gt;) option so we can look at the size of the files used to create the instrumentation, and &lt;code&gt;-T 0.25&lt;/code&gt; to run the instrumentation for a quarter second.&lt;/p&gt; &lt;pre&gt;$ stap -m old_errno -k old_errno.stp -T 0.25 PID Syscall Process Error Count 8489 read pulseaudio EAGAIN 50 9016 recvmsg Timer EAGAIN 16 9223 recvmsg firefox EAGAIN 11 9016 futex Timer ETIMEDOUT 7 8386 recvmsg gnome-shell EAGAIN 7 25430 recvmsg Web Content EAGAIN 6 2196 futex pmdaperfevent ETIMEDOUT 2 16278 read stapio EAGAIN 1 25430 futex Web Content ETIMEDOUT 1 9792 recvmsg hexchat EAGAIN 1 Keeping temporary directory "/tmp/stapUfJ9KC" &lt;/pre&gt; &lt;p&gt;Now we&amp;#8217;ll replace the &lt;code&gt;syscall.*.return&lt;/code&gt; in the script with &lt;code&gt;syscall_any.return&lt;/code&gt;. The new, improved version has similar output:&lt;/p&gt; &lt;pre&gt;$ stap -m new_errno -k new_errno.stp -T 0.25 PID Syscall Process Error Count 8489 read pulseaudio EAGAIN 50 9016 recvmsg Web Content EAGAIN 40 9016 futex Web Content ETIMEDOUT 10 8386 recvmsg gnome-shell EAGAIN 9 11884 recvmsg Web Content EAGAIN 8 9792 recvmsg hexchat EAGAIN 4 2196 futex pmdaperfevent ETIMEDOUT 3 10336 read gnome-terminal- EAGAIN 2 16840 read stapio EAGAIN 1 5262 read qemu-system-x86 EAGAIN 1 1863 recvmsg gsd-color EAGAIN 1 811 openat systemd-journal ENOENT 1 11884 futex Web Content ETIMEDOUT 1 Keeping temporary directory "/tmp/staprI6U1R" &lt;/pre&gt; &lt;p&gt;The &lt;code&gt;stap_time&lt;/code&gt; script provided the following output for the various passes of generating the instrumentation:&lt;/p&gt; &lt;pre&gt;$ stap stap_time.stp old_errno.stp 80 2592 13033 807 20384 new_errno.stp 96 2594 1593 22 4125 &lt;/pre&gt; &lt;p&gt;With some minor work, Gnuplot can generate a graph of the data, as seen below. Pass 2 (elaboration) and pass 4 (compilation) are the ones that take a majority of the time in &lt;code&gt;old_errno.stp&lt;/code&gt; using the &lt;code&gt;syscall.*.return&lt;/code&gt; probe points. We see those are greatly reduced in &lt;code&gt;new_errno.stp&lt;/code&gt; using the &lt;code&gt;syscall_any.return&lt;/code&gt; probe point: from 13,033 ms to 1,593 ms for pass 2 and from 20,384 ms to 4,125 ms for pass 4. We also see pass 3 code generation is virtually nonexistent on the graph (reduced from 807 ms to 22 ms).&lt;/p&gt; &lt;p&gt;&lt;a href="https://developers.redhat.com/blog/wp-content/uploads/2018/11/errno.png"&gt;&lt;img class=" aligncenter wp-image-532837 " data-add-featherlight="https://developers.redhat.com/blog/wp-content/uploads/2018/11/errno.png" src="https://developers.redhat.com/blog/wp-content/uploads/2018/11/errno.png" alt="Graph showing reduced times for generating the instrumentation" width="640" height="480" srcset="https://developers.redhat.com/blog/wp-content/uploads/2018/11/errno.png 640w, https://developers.redhat.com/blog/wp-content/uploads/2018/11/errno-300x225.png 300w" sizes="(max-width: 640px) 100vw, 640px" /&gt;&lt;/a&gt;&lt;/p&gt; &lt;p&gt;The &lt;code&gt;new_errno.ko&lt;/code&gt; script is less than 1/3 the size of the &lt;code&gt;old_errno.ko&lt;/code&gt; script:&lt;/p&gt; &lt;pre&gt;$ ls -ls *.ko 472 -rw-rw-r--. 1 wcohen wcohen 481016 Nov 1 11:07 new_errno.ko 1528 -rw-rw-r--. 1 wcohen wcohen 1564360 Nov 1 11:06 old_errno.ko &lt;/pre&gt; &lt;p&gt;Looking at the &lt;code&gt;*src.c&lt;/code&gt; files in the temporary directories &lt;code&gt;/tmp/stapUfJ9KC/&lt;/code&gt; and &lt;code&gt;/tmp/staprI6U1R/&lt;/code&gt;, we can see that &lt;code&gt;old_errno_src.c&lt;/code&gt; is about four times larger than &lt;code&gt;new_errno_src.c&lt;/code&gt;. This explains the additional overhead for the pass 3 code generation and pass 4 compilation and the larger &lt;code&gt;old_errno.ko&lt;/code&gt;.&lt;/p&gt; &lt;pre&gt;$ ls -l /tmp/stapUfJ9KC/*src.c /tmp/staprI6U1R/*src.c -rw-rw-r--. 1 wcohen wcohen 967746 Nov 1 11:07 /tmp/staprI6U1R/new_errno_src.c -rw-rw-r--. 1 wcohen wcohen 4119779 Nov 1 11:06 /tmp/stapUfJ9KC/old_errno_src.c &lt;/pre&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;If your SystemTap script just requires information about the system call name and return value for all the system calls, you should consider using the &lt;code&gt;syscall_any&lt;/code&gt; tapset in place of the &lt;code&gt;syscall.*&lt;/code&gt; to make the instrumentation compile faster and result in small instrumentation.&lt;/p&gt; &lt;h2&gt;Additional resources&lt;/h2&gt; &lt;p class="selectionShareable"&gt;See &lt;a href="https://developers.redhat.com/blog/author/wcohen2013/"&gt;my other  articles&lt;/a&gt; on Red Hat Developers:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/05/14/making-the-operation-of-code-more-transparent-and-obvious/"&gt;Making the Operation of Code More Transparent and Obvious with SystemTap&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/05/11/use-the-dynamic-tracing-tools-luke/"&gt;&amp;#8220;Use the dynamic tracing tools, Luke&amp;#8221;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2017/02/16/find-what-capabilities-an-application-requires-to-successful-run-in-a-container/"&gt;Find what capabilities an application requires to successfully run in a container&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2016/06/01/how-to-avoid-wasting-megabytes-of-memory-a-few-bytes-at-a-time/"&gt;How to avoid wasting megabytes of memory a few bytes at a time&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2016/05/04/instruction-level-multithreading-to-improve-processor-utilization/"&gt;Instruction-level Multithreading to improve processor utilization&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2016/04/06/dont-cross-the-streams-thread-safety-and-memory-accesses-at-the-speed-of-light-2/" rel="bookmark"&gt;“Don’t cross the streams”: Thread safety and memory accesses at the speed of light&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p class="selectionShareable"&gt;Red Hat Developer has many other articles on &lt;a href="https://developers.redhat.com/blog/tag/systemtap/"&gt;SystemTap&lt;/a&gt; and &lt;a href="https://developers.redhat.com/blog/category/performance/"&gt;performance&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#38;linkname=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fsystemtap-reduced-startup-syscalls%2F&amp;#038;title=Reducing%20the%20startup%20overhead%20of%20SystemTap%20monitoring%20scripts%20with%20syscall_any%20tapset" data-a2a-url="https://developers.redhat.com/blog/2018/11/08/systemtap-reduced-startup-syscalls/" data-a2a-title="Reducing the startup overhead of SystemTap monitoring scripts with syscall_any tapset"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/08/systemtap-reduced-startup-syscalls/"&gt;Reducing the startup overhead of SystemTap monitoring scripts with syscall_any tapset&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/Zc3nERqg3Z0" height="1" width="1" alt=""/&gt;</content><summary>A number of the SystemTap script examples in the newly released SystemTap 4.0 available in Fedora 28 and 29 have reduced the amount of time required to convert the scripts into running instrumentation by using the syscall_any tapset. This article discusses the particular changes made in the scripts and how you might also use this new tapset to make the instrumentation that monitors system calls sm...</summary><dc:creator>William Cohen</dc:creator><dc:date>2018-11-08T16:00:30Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/08/systemtap-reduced-startup-syscalls/</feedburner:origLink></entry><entry><title>How to create an Open Virtual Network distributed gateway router</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/4Tda-vHWYsc/" /><category term="cloud" scheme="searchisko:content:tags" /><category term="distributed gateway router" scheme="searchisko:content:tags" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="network function virtualization" scheme="searchisko:content:tags" /><category term="Networking" scheme="searchisko:content:tags" /><category term="NFV" scheme="searchisko:content:tags" /><category term="open virtual network" scheme="searchisko:content:tags" /><category term="Open vSwitch" scheme="searchisko:content:tags" /><category term="OpenStack" scheme="searchisko:content:tags" /><category term="OVN" scheme="searchisko:content:tags" /><category term="OVS" scheme="searchisko:content:tags" /><category term="Red Hat Enterprise Linux" scheme="searchisko:content:tags" /><category term="Red Hat OpenShift Container Platform" scheme="searchisko:content:tags" /><category term="virtual networking" scheme="searchisko:content:tags" /><author><name>Numan Siddique</name></author><id>searchisko:content:id:jbossorg_blog-how_to_create_an_open_virtual_network_distributed_gateway_router</id><updated>2018-11-08T13:56:27Z</updated><published>2018-11-08T13:56:27Z</published><content type="html">&lt;p&gt;In this article, I discuss external connectivity in &lt;a href="http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html"&gt;Open Virtual Network (OVN)&lt;/a&gt;, a subproject of &lt;a href="https://www.openvswitch.org/"&gt;Open vSwitch&lt;/a&gt; (OVS), using a distributed gateway router.&lt;/p&gt; &lt;p&gt;OVN provides external connectivity in two ways:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;A logical router with a distributed gateway port, which is referred to as a distributed gateway router in this article&lt;/li&gt; &lt;li&gt;A logical gateway router&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;In this article, you will see how to create a distributed gateway router and an example of how it works.&lt;/p&gt; &lt;p&gt;Creating a distributed gateway router has some advantages over using a logical gateway router for the CMS (cloud management system):&lt;/p&gt; &lt;ul&gt; &lt;li&gt;It is easier to create a distributed gateway router because the CMS doesn&amp;#8217;t need to create a transit logical switch, which is needed for a logical gateway router.&lt;/li&gt; &lt;li&gt;A distributed gateway router supports distributed north/south traffic, whereas the logical gateway router is centralized on a single gateway chassis.&lt;/li&gt; &lt;li&gt;A distributed gateway router supports high availability.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: The CMS can be OpenStack, &lt;a href="http://openshift.com/"&gt;Red Hat OpenShift&lt;/a&gt;, &lt;a href="https://www.redhat.com/en/technologies/virtualization/enterprise-virtualization"&gt;Red Hat Virtualization&lt;/a&gt;, or any other system that manages a cloud.&lt;/p&gt; &lt;p&gt;&lt;span id="more-527417"&gt;&lt;/span&gt;&lt;/p&gt; &lt;h2&gt;Setup details&lt;/h2&gt; &lt;p&gt;Let&amp;#8217;s first talk about the deployment details. I will take an example setup having five nodes, out of which three are controller nodes and the rest are compute nodes. The tenant VMs are created in the compute nodes. Controller nodes run OVN database servers in active/passive mode.&lt;/p&gt; &lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: When you run the command &lt;code&gt;ovn-nbctl/ovn-sbctl&lt;/code&gt;, it should be run on the node where the OVN database servers are running. Alternately, you can pass the &lt;code&gt;--db&lt;/code&gt; option with the IP address/port.&lt;/p&gt; &lt;h3&gt;Chassis in OVN&lt;/h3&gt; &lt;p&gt;In OVN terminology, each node is referred to as &lt;em&gt;chassis&lt;/em&gt;.  A chassis is nothing but a node where the &lt;code&gt;ovn-controller&lt;/code&gt; service is running. In order for a chassis to act as a &lt;em&gt;gateway chassis,&lt;/em&gt; it should be capable of providing external (north/south) connectivity to the tenant traffic. It also requires the following configuration:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Configure &lt;code&gt;ovn-bridge-mappings&lt;/code&gt;, which provides a list of key-value pairs that map a physical network name to a local OVS bridge that provides connectivity to that network.&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt;ovs-vsctl set open . external-ids:ovn-bridge-mappings=provider:br-provider&lt;/pre&gt; &lt;ul&gt; &lt;li&gt;Create the provider OVS bridge and add to the OVS bridge the interface that provides external connectivity:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt;ovs-vsctl --may-exist add-br br-provider ovs-vsctl --may-exist add-port br-provider INTERFACE_NAME&lt;/pre&gt; &lt;p&gt;In the above setup, all the controller nodes act as gateway chassis.&lt;/p&gt; &lt;p&gt;Below is the output of &lt;code&gt;ovn-sbctl&lt;/code&gt; showing my setup:&lt;/p&gt; &lt;pre&gt;Chassis "controller-0" hostname: "controller-0.localdomain" Encap geneve ip: "172.17.2.28" options: {csum="true"} Chassis "controller-1" hostname: "controller-1.localdomain" Encap geneve ip: "172.17.2.26" options: {csum="true"} Chassis "controller-2" hostname: "controller-2.localdomain" Encap geneve ip: "172.17.2.18" options: {csum="true"} Chassis "compute-0" hostname: "compute-0.localdomain" Encap geneve ip: "172.17.2.15" options: {csum="true"} Chassis "compute-1" hostname: "compute-1.localdomain" Encap geneve ip: "172.17.2.17" options: {csum="true"}&lt;/pre&gt; &lt;p&gt;Let&amp;#8217;s first create a couple of logical switches and logical ports and attach them to a logical router:&lt;/p&gt; &lt;pre&gt;ovn-nbctl ls-add sw0 ovn-nbctl lsp-add sw0 sw0-port1 ovn-nbctl lsp-set-addresses sw0-port1 "00:00:01:00:00:03 10.0.0.3" ovn-nbctl ls-add sw1 ovn-nbctl lsp-add sw1 sw1-port1 ovn-nbctl lsp-set-addresses sw1-port1 "00:00:02:00:00:03 20.0.0.3" ovn-nbctl lr-add lr0 # Connect sw0 to lr0 ovn-nbctl lrp-add lr0 lr0-sw0 00:00:00:00:ff:01 10.0.0.1/24 ovn-nbctl lsp-add sw0 sw0-lr0 ovn-nbctl lsp-set-type sw0-lr0 router ovn-nbctl lsp-set-addresses sw0-lr0 router ovn-nbctl lsp-set-options sw0-lr0 router-port=lr0-sw0 # Connect sw1 to lr0 ovn-nbctl lrp-add lr0 lr0-sw1 00:00:00:00:ff:02 20.0.0.1/24 ovn-nbctl lsp-add sw1 sw1-lr0 ovn-nbctl lsp-set-type sw1-lr0 router ovn-nbctl lsp-set-addresses sw1-lr0 router ovn-nbctl lsp-set-options sw1-lr0 router-port=lr0-sw1 &lt;/pre&gt; &lt;p&gt;Below is the output of &lt;code&gt;ovn-nbctl&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;ovn-nbctl show switch 05cf23bc-2c87-4d6d-a76b-f432e562ed71 (sw0) port sw0-port1 addresses: ["00:00:01:00:00:03 10.0.0.3"] port sw0-lr0 type: router router-port: lr0-sw0 switch 0dfee7ef-13b3-4cd0-87a1-7935149f551e (sw1) port sw1-port1 addresses: ["00:00:02:00:00:03 20.0.0.3"] port sw1-lr0 type: router router-port: lr0-sw1 router c189f271-86d6-4f7f-891c-672cb3aa543e (lr0) port lr0-sw0 mac: "00:00:00:00:ff:01" networks: ["10.0.0.1/24"] port lr0-sw1 mac: "00:00:00:00:ff:02" networks: ["20.0.0.1/24"] &lt;/pre&gt; &lt;p&gt;The port &lt;code&gt;sw0-port1&lt;/code&gt; can communicate with &lt;code&gt;sw1-port1&lt;/code&gt; since the switches are connected to the logical router &lt;code&gt;lr0&lt;/code&gt;. The east-west traffic is distributed with OVN.&lt;/p&gt; &lt;p&gt;Now let&amp;#8217;s create a provider logical switch:&lt;/p&gt; &lt;pre&gt;ovn-nbctl ls-add public # Create a localnet port ovn-nbctl lsp-add public ln-public ovn-nbctl lsp-set-type ln-public localnet ovn-nbctl lsp-set-addresses ln-public unknown ovn-nbctl lsp-set-options ln-public network_name=provider&lt;/pre&gt; &lt;p&gt;Notice the&lt;code&gt;network_name=provider&lt;/code&gt;. The &lt;code&gt;network_name&lt;/code&gt; should match the list defined in the &lt;code&gt;ovn-bridge-mappings&lt;/code&gt;&lt;strong&gt;. &lt;/strong&gt;When a localnet port is defined in a logical switch, the &lt;code&gt;ovn-controller&lt;/code&gt; running on gateway chassis creates an OVS patch port between the integration bridge and the provider bridge so that the logical tenant traffic leaves from and enters into the physical network.&lt;/p&gt; &lt;p&gt;At this point, the tenant traffic from the logical switches &lt;code&gt;sw0&lt;/code&gt; and &lt;code&gt;sw1&lt;/code&gt; still cannot enter the &lt;code&gt;public&lt;/code&gt; logical switch, since there is no association between it and the logical router &lt;code&gt;lr0&lt;/code&gt;.&lt;/p&gt; &lt;h3&gt;Creating a distributed router port&lt;/h3&gt; &lt;p&gt;Let&amp;#8217;s first connect &lt;code&gt;lr0&lt;/code&gt; to &lt;code&gt;public&lt;/code&gt;:&lt;/p&gt; &lt;pre&gt;ovn-nbctl lrp-add lr0 lr0-public 00:00:20:20:12:13 172.168.0.200/24 ovn-nbctl lsp-add public public-lr0 ovn-nbctl lsp-set-type public-lr0 router ovn-nbctl lsp-set-addresses public-lr0 router ovn-nbctl lsp-set-options public-lr0 router-port=lr0-public&lt;/pre&gt; &lt;p&gt;We still need to schedule the distributed gateway port &lt;code&gt;lr0-public&lt;/code&gt; to a gateway chassis. What does &lt;em&gt;scheduling&lt;/em&gt; mean here? It means the chassis that is selected to host the gateway router port provides the centralized external connectivity. The north-south tenant traffic will be redirected to this chassis and it acts as a gateway. This chassis applies all the NATting rules before sending out the traffic via the patch port to the provider bridge. It also means that when someone pings 172.168.0.200 or sends ARP request for 172.168.0.200, the gateway chassis hosting this will respond with the ping and ARP replies.&lt;/p&gt; &lt;h3&gt;Scheduling the gateway router port&lt;/h3&gt; &lt;p&gt;This can be done in two ways:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;Non-high-availability (non-HA) mode: The gateway router port is configured to be scheduled on a single gateway chassis. If the gateway chassis hosting this port goes down for some reason, the external connectivity is completely broken until the CMS (cloud management system) detects this and reschedules it to another gateway chassis.&lt;/li&gt; &lt;li&gt;HA mode: The gateway router port is configured to be scheduled on a set of gateway chassis. The gateway chassis configured with a high priority claims the gateway router port. If this gateway chassis goes down for some reason, the next higher priority gateway chassis claims the gateway router port.&lt;/li&gt; &lt;/ul&gt; &lt;h4&gt;Scheduling in non-HA mode&lt;/h4&gt; &lt;p&gt;Select a gateway chassis where you want to schedule the gateway router port. Let&amp;#8217;s schedule on &lt;code&gt;controller-0&lt;/code&gt;. There are two ways to do it. Run one of the following commands:&lt;/p&gt; &lt;pre&gt;ovn-nbctl set logical_router_port lr0-public options:redirect-chassis=controller-0 ovn-nbctl list logical_router_port lr0-public _uuid : 0ced9cdb-fbc9-47f1-b2e2-97a49988d622 enabled : [] external_ids : {} gateway_chassis : [] ipv6_ra_configs : {} mac : "00:00:20:20:12:13" name : "lr0-public" networks : ["172.168.0.200/24"] options : {redirect-chassis="controller-0"} peer : [] or ovn-nbctl lrp-set-gateway-chassis lr0-public controller-0 20 &lt;/pre&gt; &lt;p&gt;In the &lt;code&gt;ovn-sbctl show&lt;/code&gt; output below, you can see that &lt;code&gt;controller-0&lt;/code&gt; is hosting the gateway router port &lt;code&gt;lr0-public&lt;/code&gt;.&lt;/p&gt; &lt;pre&gt;ovn-sbctl show Chassis "d86bd6f2-1216-4a73-bcaf-3200b8ed8126" hostname: "controller-0.localdomain" Encap geneve ip: "172.17.2.28" options: {csum="true"} Port_Binding "cr-lr0-public" Chassis "20dc7bfb-a329-4cf9-a8ac-3485f7d5be46" hostname: "controller-1.localdomain" ... ... &lt;/pre&gt; &lt;h4&gt;Scheduling in HA mode&lt;/h4&gt; &lt;p&gt;In this case, we select a set of gateway chassis and set a priority for each chassis. The chassis with the highest priority will be hosting the gateway router port.&lt;/p&gt; &lt;p&gt;In our example, let&amp;#8217;s set all the gateway chassis: &lt;code&gt;controller-0&lt;/code&gt; with priority 20, &lt;code&gt;controller-1&lt;/code&gt; with 15, and &lt;code&gt;controller-2&lt;/code&gt; with 10.&lt;/p&gt; &lt;p&gt;Run the following commands:&lt;/p&gt; &lt;pre&gt;ovn-nbctl lrp-set-gateway-chassis lr0-public controller-0 20 ovn-nbctl lrp-set-gateway-chassis lr0-public controller-1 15 ovn-nbctl lrp-set-gateway-chassis lr0-public controller-2 10 &lt;/pre&gt; &lt;p&gt;You can verify the configuration by running the following commands:&lt;/p&gt; &lt;pre&gt;ovn-nbctl list gateway_chassis _uuid : 745d7f84-0516-4a0f-9b3d-772e5cb58a48 chassis_name : "controller-1" external_ids : {} name : "lr0-public-controller-1" options : {} priority : 15 _uuid : 6f2921d4-2555-4f81-9428-640cbf62151e chassis_name : "controller-0" external_ids : {} name : "lr0-public-controller-0" options : {} priority : 20 _uuid : 97595b29-139d-4a43-9973-8995ffe17c64 chassis_name : "controller-2" external_ids : {} name : "lr0-public-controller-2" options : {} priority : 10&lt;/pre&gt; &lt;pre&gt;ovn-nbctl list logical_router_port lr0-public _uuid : 0ced9cdb-fbc9-47f1-b2e2-97a49988d622 enabled : [] external_ids : {} gateway_chassis : [6f2921d4-2555-4f81-9428-640cbf62151e, 745d7f84-0516-4a0f-9b3d-772e5cb58a48, 97595b29-139d-4a43-9973-8995ffe17c64] ipv6_ra_configs : {} mac : "00:00:20:20:12:13" name : "lr0-public" networks : ["172.168.0.200/24"] options : {} peer : [] ovn-sbctl show Chassis "d86bd6f2-1216-4a73-bcaf-3200b8ed8126" hostname: "controller-0.localdomain" Encap geneve ip: "172.17.2.28" options: {csum="true"} Port_Binding "cr-lr0-public" Chassis "20dc7bfb-a329-4cf9-a8ac-3485f7d5be46" hostname: "controller-1.localdomain" ... ... &lt;/pre&gt; &lt;p&gt;You can always delete a gateway chassis&amp;#8217; association to the distributed router port by running the following command:&lt;/p&gt; &lt;pre&gt;ovn-nbctl lrp-del-gateway-chassis lr0-public controller-1&lt;/pre&gt; &lt;p&gt;To support HA, OVN uses the Bidirectional Forwarding Detection (BFD) protocol. It configures BFD on the tunnel ports. When a gateway chassis hosting a distributed gateway port goes down, all the chassis detect that (thanks to BFD) and the next higher priority gateway chassis claims the port. For more details, please refer to &lt;a href="https://docs.openstack.org/networking-ovn/latest/admin/routing.html#l3ha-support"&gt;this&lt;/a&gt; and run the following commands to access the OVN man pages: &lt;code&gt;man ovn-nb&lt;/code&gt;, &lt;code&gt;man ovn-northd&lt;/code&gt;, and &lt;code&gt;man ovn-controller&lt;/code&gt;.&lt;/p&gt; &lt;h2&gt;Chassis redirect port&lt;/h2&gt; &lt;p&gt;In the output of &lt;code&gt;ovn-sbctl show&lt;/code&gt;, you can see &lt;code&gt;Port_Binding "cr-lr0-public"&lt;/code&gt;&lt;em&gt;. &lt;/em&gt;What is &lt;code&gt;cr-lr0-public&lt;/code&gt;? For every gateway router port scheduled, &lt;code&gt;ovn-northd&lt;/code&gt; internally creates a logical port of type &lt;em&gt;chassisredirect&lt;/em&gt;. This port represents an instance of the distributed gateway port that is scheduled on the selected chassis.&lt;/p&gt; &lt;h2&gt;What happens when a VM sends external traffic?&lt;/h2&gt; &lt;p&gt;Now let&amp;#8217;s briefly see what happens when a VM associated with the logical port (let&amp;#8217;s say &lt;code&gt;sw0-port0&lt;/code&gt;) sends a packet to destination 172.168.0.110 from the OVN logical datapath pipeline perspective. Let&amp;#8217;s assume the VM is running on &lt;code&gt;compute-0&lt;/code&gt; and the chassis redirect port is scheduled on &lt;code&gt;controller-0&lt;/code&gt;. 172.168.0.110 could be associated with a physical server or a VM that is reachable via the provider network.&lt;/p&gt; &lt;p&gt;On the compute chassis, the following occurs:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;When the VM sends the traffic, the logical switch pipeline of &lt;code&gt;sw0&lt;/code&gt; is run.&lt;/li&gt; &lt;li&gt;From the logical switch pipeline, it enters the ingress router pipeline via the &lt;code&gt;lr0-sw0&lt;/code&gt; port as the packet needs to be routed.&lt;/li&gt; &lt;li&gt;The ingress router pipeline is run and the routing decision is made and the outport is set to &lt;code&gt;lr0-public&lt;/code&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; Logical flows table=0 (lr_in_admission ), priority=50 , match=(eth.dst == 00:00:00:00:ff:01 &amp;#38;&amp;#38; inport == "lr0-sw0"), action=(next;) ... table=7 (lr_in_ip_routing ), priority=49 , match=(ip4.dst == 172.168.0.0/24), action=(ip.ttl--; reg0 = ip4.dst; reg1 = 172.168.0.200; eth.src = 00:00:20:20:12:13; outport = "lr0-public"; flags.loopback = 1; next;) ... table=9 (lr_in_gw_redirect ), priority=50 , match=(outport == "lr0-public"), action=(outport = "cr-lr0-public"; next;) &lt;/pre&gt; &lt;ul&gt; &lt;li&gt;Since &lt;code&gt;cr-lr0-public&lt;/code&gt; is scheduled on &lt;code&gt;controller-0&lt;/code&gt;, the packet is sent to &lt;code&gt;controller-0&lt;/code&gt; via the tunnel port:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt;  table=32, priority=100,reg15=0x4,metadata=0x3 actions=load:0x3-&amp;#62;NXM_NX_TUN_ID[0..23],set_field:0x4-&amp;#62;tun_metadata0,move:NXM_NX_REG14[0..14]-&amp;#62;NXM_NX_TUN_METADATA0[16..30],output:ovn-cont-0&lt;/pre&gt; &lt;p&gt;On controller-0 chassis, the following occurs:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;controller-0&lt;/code&gt; receives the traffic on the tunnel port and sends the traffic to the egress pipeline of logical router &lt;code&gt;lr0&lt;/code&gt;:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt;table=0, priority=100,in_port="ovn-comp-0" actions=move:NXM_NX_TUN_ID[0..23]-&amp;#62;OXM_OF_METADATA[0..23],move:NXM_NX_TUN_METADATA0[16..30]-&amp;#62;NXM_NX_REG14[0..14],move:NXM_NX_TUN_METADATA0[0..15]-&amp;#62;NXM_NX_REG15[0..15],resubmit(,33)&lt;/pre&gt; &lt;ul&gt; &lt;li&gt;The NAT rules are applied. That is, the source IP address 10.0.0.3 is NATed to 172.168.0.200:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; table=1 (lr_out_snat ), priority=25 , match=(ip &amp;#38;&amp;#38; ip4.src == 10.0.0.0/24 &amp;#38;&amp;#38; outport == "lr0-public" &amp;#38;&amp;#38; is_chassis_resident("cr-lr0-public")), action=(ct_snat(172.168.0.200);)&lt;/pre&gt; &lt;ul&gt; &lt;li&gt;The packet is sent to logical switch &lt;code&gt;public&lt;/code&gt; via the &lt;code&gt;lr0-public&lt;/code&gt; port:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; table=3 (lr_out_delivery ), priority=100 , match=(outport == "lr0-public"), action=(output;) &lt;/pre&gt; &lt;ul&gt; &lt;li&gt;And the packet is sent out via the localnet port to the provider bridge and reaches the destination.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Now let&amp;#8217;s see what happens for the reply traffic.&lt;/p&gt; &lt;p&gt;On &lt;code&gt;controller-0&lt;/code&gt; chassis:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;The packet is received by the physical interface present in the provider bridge and it enters the pipeline of ingress logical switch &lt;code&gt;public&lt;/code&gt; via the &lt;code&gt;localnet&lt;/code&gt; port:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; table=0,priority=100,in_port="patch-br-int-to",dl_vlan=0 actions=strip_vlan,load:0x1-&amp;#62;NXM_NX_REG13[],load:0x7-&amp;#62;NXM_NX_REG11[],load:0x8-&amp;#62;NXM_NX_REG12[],load:0x4-&amp;#62;OXM_OF_METADATA[],load:0x2-&amp;#62;NXM_NX_REG14[],resubmit(,8)&lt;/pre&gt; &lt;ul&gt; &lt;li&gt;From &lt;code&gt;public&lt;/code&gt;, the packet enters the pipeline of &lt;code&gt;lr0&lt;/code&gt; via the &lt;code&gt;public-lr0&lt;/code&gt; logical port.&lt;/li&gt; &lt;li&gt;In the ingress router pipeline, UnSNAT rules are applied. That is, the destination IP address is unNATed from 172.168.0.200 to 10.0.0.3:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; table=0 (lr_in_admission ), priority=50 , match=(eth.dst == 00:00:20:20:12:13 &amp;#38;&amp;#38; inport == "lr0-public" &amp;#38;&amp;#38; is_chassis_resident("cr-lr0-public")), action=(next;) ... table=3 (lr_in_unsnat ), priority=100 , match=(ip &amp;#38;&amp;#38; ip4.dst == 172.168.0.200 &amp;#38;&amp;#38; inport == "lr0-public" &amp;#38;&amp;#38; is_chassis_resident("cr-lr0-public")), action=(ct_snat;) &lt;/pre&gt; &lt;ul&gt; &lt;li&gt;Since 10.0.0.3 belongs to the logical switch &lt;code&gt;sw0&lt;/code&gt;, the packet enters the ingress pipeline of &lt;code&gt;sw0&lt;/code&gt; via &lt;code&gt;lr0-sw0&lt;/code&gt;:&lt;/li&gt; &lt;/ul&gt; &lt;pre&gt; table=7 (lr_in_ip_routing ), priority=49 , match=(ip4.dst == 10.0.0.0/24), action=(ip.ttl--; reg0 = ip4.dst; reg1 = 10.0.0.1; eth.src = 00:00:00:00:ff:01; outport = "lr0-sw0"; flags.loopback = 1; next;)&lt;/pre&gt; &lt;ul&gt; &lt;li&gt;The ingress pipeline of &lt;code&gt;sw0&lt;/code&gt; is run and the packet is sent to &lt;code&gt;compute-0&lt;/code&gt; via the tunnel port because OVN knows that &lt;code&gt;sw0-port1&lt;/code&gt; resides on &lt;code&gt;compute-0&lt;/code&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;On &lt;code&gt;compute-0&lt;/code&gt; chassis, the following occurs:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;code&gt;compute-0&lt;/code&gt; receives the traffic on the tunnel port and sends the traffic to the egress pipeline of logical switch &lt;code&gt;sw0&lt;/code&gt;.&lt;/li&gt; &lt;li&gt;In the egress pipeline, the packet is delivered to &lt;code&gt;sw0-port1&lt;/code&gt;.&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;This article provides an overview of a distributed gateway router in OVN, how it is created and what happens when a VM sends external traffic. Hopefully this will be helpful in understanding external connectivity support in OVN and troubleshooting any issues related to it.&lt;/p&gt; &lt;h2&gt;Additional resources&lt;/h2&gt; &lt;p&gt;See additional virtual networking articles on &lt;a href="https://developers.redhat.com/blog/tag/open-vswitch/"&gt;Open vSwitch&lt;/a&gt; and &lt;a href="https://developers.redhat.com/blog/tag/ovn/"&gt;Open Virtual Network&lt;/a&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/09/03/ovn-dynamic-ip-address-management/"&gt;Dynamic IP address management in Open Virtual Network (OVN): Part One&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/09/27/dynamic-ip-address-management-in-open-virtual-network-ovn-part-two/"&gt;Dynamic IP address management in Open Virtual Network (OVN): Part Two&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/03/23/non-root-open-vswitch-rhel/"&gt;Non-root Open vSwitch in RHEL&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/03/16/ovs-dpdk-hugepage-memory/"&gt;Open vSwitch-DPDK: How Much Hugepage Memory?&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2017/06/27/open-vswitch-qinq-performance/"&gt;Open vSwitch: QinQ Performance&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#38;linkname=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F08%2Fhow-to-create-an-open-virtual-network-distributed-gateway-router%2F&amp;#038;title=How%20to%20create%20an%20Open%20Virtual%20Network%20distributed%20gateway%20router" data-a2a-url="https://developers.redhat.com/blog/2018/11/08/how-to-create-an-open-virtual-network-distributed-gateway-router/" data-a2a-title="How to create an Open Virtual Network distributed gateway router"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/08/how-to-create-an-open-virtual-network-distributed-gateway-router/"&gt;How to create an Open Virtual Network distributed gateway router&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/4Tda-vHWYsc" height="1" width="1" alt=""/&gt;</content><summary>In this article, I discuss external connectivity in Open Virtual Network (OVN), a subproject of Open vSwitch (OVS), using a distributed gateway router. OVN provides external connectivity in two ways: A logical router with a distributed gateway port, which is referred to as a distributed gateway router in this article A logical gateway router In this article, you will see how to create a distribute...</summary><dc:creator>Numan Siddique</dc:creator><dc:date>2018-11-08T13:56:27Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/08/how-to-create-an-open-virtual-network-distributed-gateway-router/</feedburner:origLink></entry><entry><title>Locating special folders in cross-platform .NET applications</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/O3r6jVMElcU/" /><category term=".net" scheme="searchisko:content:tags" /><category term=".NET Core" scheme="searchisko:content:tags" /><category term="C#" scheme="searchisko:content:tags" /><category term="cross-platform" scheme="searchisko:content:tags" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="portability" scheme="searchisko:content:tags" /><category term="Red Hat Enterprise Linux" scheme="searchisko:content:tags" /><author><name>Tom Deseyn</name></author><id>searchisko:content:id:jbossorg_blog-locating_special_folders_in_cross_platform_net_applications</id><updated>2018-11-07T12:00:25Z</updated><published>2018-11-07T12:00:25Z</published><content type="html">&lt;p&gt;.NET has APIs for locating special folders that can be used for application and user configuration and data storage. They provide a convenient, portable way to make cross-platform applications find the appropriate folders on different operating systems. We&amp;#8217;ll look at how &lt;code&gt;Environment.GetFolderPath&lt;/code&gt;, &lt;code&gt;Path.GetTempPath&lt;/code&gt;, and &lt;code&gt;Path.GetTempFileName&lt;/code&gt; behave on Linux.&lt;/p&gt; &lt;p&gt;&lt;span id="more-531267"&gt;&lt;/span&gt;&lt;/p&gt; &lt;h2&gt;Environment.GetFolderPath&lt;/h2&gt; &lt;p&gt;The &lt;code&gt;System.Environment&lt;/code&gt; class has two &lt;code&gt;GetFolderPath&lt;/code&gt; overloads:&lt;/p&gt; &lt;pre&gt;public static string GetFolderPath (SpecialFolder folder); public static string GetFolderPath (SpecialFolder folder, SpecialFolderOption option); &lt;/pre&gt; &lt;p&gt;&lt;code&gt;SpecialFolder&lt;/code&gt; is an &lt;code&gt;enum&lt;/code&gt; with values like &lt;code&gt;ApplicationData&lt;/code&gt;, &lt;code&gt;MyDocuments&lt;/code&gt;, and &lt;code&gt;ProgramFiles&lt;/code&gt;. The &lt;code&gt;SpecialFolderOption&lt;/code&gt; &lt;code&gt;enum&lt;/code&gt; has three values: &lt;code&gt;None&lt;/code&gt;, &lt;code&gt;Create&lt;/code&gt;, and &lt;code&gt;DoNotVerify&lt;/code&gt;. These control the return value when the folder does not exist. Specifying &lt;code&gt;None&lt;/code&gt; causes an empty string to be returned. Specifying &lt;code&gt;Create&lt;/code&gt; causes the folder to be created. And &lt;code&gt;DoNotVerify&lt;/code&gt; causes the path to be returned even when the folder does not exist.&lt;/p&gt; &lt;p&gt;Note that &lt;code&gt;SpecialFolder&lt;/code&gt; and &lt;code&gt;SpecialFolderOption&lt;/code&gt; are nested in the &lt;code&gt;Environment&lt;/code&gt; class, and to use them directly you should add a &lt;code&gt;using static System.Environment;&lt;/code&gt; statement to your code.&lt;/p&gt; &lt;p&gt;To make this API work cross-platform, .NET Core needs to map the &lt;code&gt;SpecialFolder&lt;/code&gt; values to some locations. For Linux, this mapping is based on &lt;a href="https://www.freedesktop.org/software/systemd/man/file-hierarchy.html"&gt;file-hierarcy&lt;/a&gt; and &lt;a href="https://specifications.freedesktop.org/basedir-spec/latest/"&gt;basedir-spec&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&amp;#160;&lt;/p&gt; &lt;table class="large-24 small-24 downloads-table" style="height: 832px; border: 1px solid black;" width="1133"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;&lt;strong&gt;SpecialFolder&lt;/strong&gt;&lt;/th&gt; &lt;th&gt;&lt;strong&gt;Environment Variable&lt;/strong&gt;&lt;/th&gt; &lt;th&gt;&lt;strong&gt;Config File&lt;/strong&gt;&lt;/th&gt; &lt;th&gt;&lt;strong&gt;Linux Default&lt;/strong&gt;&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;CommonApplicationData&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;/usr/share&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;CommonTemplates&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;/usr/share/templates&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;MyDocuments (&lt;em&gt;home&lt;/em&gt;)&lt;/td&gt; &lt;td&gt;HOME&lt;/td&gt; &lt;td&gt;passwd&lt;/td&gt; &lt;td&gt;/&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;UserProfile&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;ApplicationData&lt;/td&gt; &lt;td&gt;XDG_CONFIG_HOME&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/.config&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;LocalApplicationData&lt;/td&gt; &lt;td&gt;XDG_DATA_HOME&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/.local/share&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Fonts&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/.fonts&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Desktop, DesktopDirectory&lt;/td&gt; &lt;td&gt;XDG_DESKTOP_DIR&lt;/td&gt; &lt;td&gt;user-dirs.dirs&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/Desktop&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;Templates&lt;/td&gt; &lt;td&gt;XDG_TEMPLATES_DIR&lt;/td&gt; &lt;td&gt;user-dirs.dirs&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/Templates&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;MyVideos&lt;/td&gt; &lt;td&gt;XDG_VIDEOS_DIR&lt;/td&gt; &lt;td&gt;user-dirs.dirs&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/Videos&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;MyMusic&lt;/td&gt; &lt;td&gt;XDG_MUSIC_DIR&lt;/td&gt; &lt;td&gt;user-dirs.dirs&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/Music&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;MyPictures&lt;/td&gt; &lt;td&gt;XDG_PICTURES_DIR&lt;/td&gt; &lt;td&gt;user-dirs.dirs&lt;/td&gt; &lt;td&gt;&lt;em&gt;home&lt;/em&gt;/Pictures&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;p&gt;The table lists all the mapped values in .NET Core 2.1. Other values are not mapped and return an empty string. The returned value is determined from left to right: first checking the environment variable, then falling back to the config file, and finally falling back to a default.&lt;/p&gt; &lt;p&gt;Cross-platform applications should be limited to using the mapped values, or they should be able to fall back to another location when &lt;code&gt;GetFolderPath&lt;/code&gt; returns an empty string.&lt;/p&gt; &lt;p&gt;The user home folder is read from the &lt;code&gt;HOME&lt;/code&gt; environment variable. When that is unset, the home directory is read from the system user database. It’s safe to assume that for known users, .NET Core will be able to determine the home directory. A number of other locations are based on the user home folder. Some can be overridden using environment variables and some others by using a file at &lt;code&gt;&lt;em&gt;ApplicationData&lt;/em&gt;/users-dirs.dirs&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;On Windows, most of the special folders will exist by default. This may not be the case on Linux. It is the application&amp;#8217;s responsibility to create the folder when it doesn&amp;#8217;t exist. This may require some changes to your code to use the overload with a &lt;code&gt;SpecialFolderOption&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;For example, the following code ensures the &lt;code&gt;LocalApplicationData&lt;/code&gt; folder will be created if it doesn’t exist.&lt;/p&gt; &lt;pre&gt;// Use DoNotVerify in case LocalApplicationData doesn’t exist. string appData = Path.Combine(Environment.GetFolderPath(SpecialFolder.LocalApplicationData, SpecialFolderOption.DoNotVerify), "myapp"); // Ensure the directory and all its parents exist. Directory.CreateDirectory(appData); &lt;/pre&gt; &lt;h2&gt;Path.GetTempPath and Temp.GetTempFileName&lt;/h2&gt; &lt;p&gt;The &lt;code&gt;System.IO.Path&lt;/code&gt; class has a method that returns the path of the current user&amp;#8217;s temporary folder:&lt;/p&gt; &lt;pre&gt;public static string GetTempPath (); &lt;/pre&gt; &lt;p&gt;Windows applications may assume the path returned here is user-specific. This is because the implementation picks up the &lt;code&gt;USERPROFILE&lt;/code&gt; environment variable. When the variable is unset, the API returns the Windows temp folder.&lt;/p&gt; &lt;p&gt;On Linux, the implementation returns &lt;code&gt;/tmp&lt;/code&gt;. This folder is shared with other users. As a consequence, applications should use unique names to avoid conflicts with other applications. Furthermore, because the location is shared, other users will be able to read the files created here, so you should not store sensitive data in this folder. The first user to create a file or directory will own it. This can cause your application to fail when trying to create a file or directory that is already owned by another user.&lt;/p&gt; &lt;p&gt;The &lt;code&gt;Temp.GetTempFileName&lt;/code&gt; method solves these issues for creating files. It creates a unique file under &lt;code&gt;GetTempPath&lt;/code&gt; that is only readable and writable by the current user.&lt;/p&gt; &lt;p&gt;On Windows, the value returned by &lt;code&gt;GetTempPath&lt;/code&gt; can be controlled using the &lt;code&gt;TMP&lt;/code&gt;/&lt;code&gt;TEMP&lt;/code&gt; environment variables. On Linux, this can be done using &lt;code&gt;TMPDIR&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;On systems with &lt;code&gt;systemd&lt;/code&gt;, like Fedora and &lt;a href="https://developers.redhat.com/products/rhel/download/"&gt;Red Hat Enterprise Linux&lt;/a&gt; (RHEL), a user-private temporary directory is available and can be located using the &lt;code&gt;XDG_RUNTIME_DIR&lt;/code&gt; environment variable.&lt;/p&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;In this article, you’ve seen the features and limitations of using &lt;code&gt;Environment.GetFolderPath&lt;/code&gt;, &lt;code&gt;Temp.GetTempPath&lt;/code&gt; and &lt;code&gt;Temp.GetTempFileName&lt;/code&gt; in your cross-platform .NET Core applications.&lt;/p&gt; &lt;p&gt;Here are some additional &lt;a href="https://developers.redhat.com/blog/category/dot-net/"&gt;.NET Core articles&lt;/a&gt; that might be helpful:&lt;/p&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/07/24/improv-net-core-kestrel-performance-linux/" rel="bookmark"&gt;Improving .NET Core Kestrel performance using a Linux-specific transport&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/07/05/deploy-dotnet-core-apps-openshift/"&gt;Using OpenShift to deploy .NET Core applications&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/09/25/sql-server-on-openshift/"&gt;Running Microsoft SQL Server on Red Hat OpenShift&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/10/12/securing-net-core-on-openshift-using-https/"&gt;Securing .NET Core on OpenShift using HTTPS&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/06/14/announcing-net-core-2-1-for-red-hat-platforms/"&gt;Announcing .NET Core 2.1 for Red Hat Platforms&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;&amp;#160;&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;linkname=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F07%2Fdotnet-special-folder-api-linux%2F&amp;#38;title=Locating%20special%20folders%20in%20cross-platform%20.NET%20applications" data-a2a-url="https://developers.redhat.com/blog/2018/11/07/dotnet-special-folder-api-linux/" data-a2a-title="Locating special folders in cross-platform .NET applications"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/07/dotnet-special-folder-api-linux/"&gt;Locating special folders in cross-platform .NET applications&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/O3r6jVMElcU" height="1" width="1" alt=""/&gt;</content><summary>.NET has APIs for locating special folders that can be used for application and user configuration and data storage. They provide a convenient, portable way to make cross-platform applications find the appropriate folders on different operating systems. We’ll look at how Environment.GetFolderPath, Path.GetTempPath, and Path.GetTempFileName behave on Linux. Environment.GetFolderPath The System.Envi...</summary><dc:creator>Tom Deseyn</dc:creator><dc:date>2018-11-07T12:00:25Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/07/dotnet-special-folder-api-linux/</feedburner:origLink></entry><entry><title>Diagnosing Java applications on the fly with Byteman</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/FpL1EqMr3gQ/" /><category term="byteman" scheme="searchisko:content:tags" /><category term="debugging" scheme="searchisko:content:tags" /><category term="Developer Tools" scheme="searchisko:content:tags" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="instrumentation" scheme="searchisko:content:tags" /><category term="Java" scheme="searchisko:content:tags" /><category term="java instrumentation" scheme="searchisko:content:tags" /><category term="production" scheme="searchisko:content:tags" /><category term="troubleshooting" scheme="searchisko:content:tags" /><author><name>Marko Myllynen</name></author><id>searchisko:content:id:jbossorg_blog-diagnosing_java_applications_on_the_fly_with_byteman</id><updated>2018-11-06T14:55:54Z</updated><published>2018-11-06T14:55:54Z</published><content type="html">&lt;p&gt;Production being affected by software issues is always an unwanted scenario. Diagnosing production issues, however, should never be an unplanned activity. Structured testing and QA efforts would ideally prevent any software bugs from entering production. So the dilemma is how to prepare for something unexpected in production that was not considered during the earlier testing and QA phases.&lt;/p&gt; &lt;p&gt;This article discusses &lt;a href="http://byteman.jboss.org/"&gt;Byteman&lt;/a&gt;, a tool that leverages the Java Instrumentation API to inject &lt;a href="https://developers.redhat.com/topics/enterprise-java/"&gt;Java&lt;/a&gt; code into methods without the need to recompile, repackage, or even redeploy the application.&lt;/p&gt; &lt;p&gt;&lt;span id="more-531387"&gt;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;To troubleshoot production issues, the answer lies with adaptive tools that allow for dynamically diagnosing selected functionality with minimal disruption for the rest of the system. Think of a recently introduced new software component or function that, as a whole, is not consistently performing as expected, and its existing instrumentation is not providing the needed insight about the possible root cause of the issue. Since merely restarting a complex application might be unfeasible in production or make the issue go away for a certain period, you need to be able to safely modify running code on the fly to avoid time-consuming delays while diagnosing the issue at hand.&lt;/p&gt; &lt;p&gt;In more concrete terms, you could start diagnosis efforts by adding timings for selected application methods and monitoring their error rates when the system is still running and showing issues. This would allow you to narrow down the exact problem area in an iterative manner without affecting other parts of the application. Given that these retrospective code changes would be done in production, the modifications should be absolutely certain not to introduce additional and possibly more severe problems. This means the changes need to be done using generic, proven tools but in an application-specific manner.&lt;/p&gt; &lt;p&gt;The &lt;a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/package-summary.html"&gt;Java Instrumentation API&lt;/a&gt; allows modification of the bytecodes of methods on the Java Virtual Machine (JVM) at runtime. While technically this would make it possible to implement any wanted changes to an application to gain insight into its behavior, approaching an unclear production issue at a bytecode level would be the complete opposite of the high-level iterative approach described above.&lt;/p&gt; &lt;h2&gt;Byteman to the rescue&lt;/h2&gt; &lt;p&gt;Byteman, unlike many other bytecode transformers, operates at the level of Java, not bytecode. You give Byteman one or more rules that specify the Java code you want to be executed and the location in methods where you want it to be injected. Byteman works out how to rewrite the bytecode so it behaves as if the original Java code included the source-level changes you requested. Byteman also does the needed type checking and type inference, which are an absolute must for the safety of transformations.&lt;/p&gt; &lt;p&gt;Below is a simple example of Byteman rules that would help you understand how often an exception is thrown during a method&amp;#8217;s execution by keeping a tally of the exception count and printing it at a certain interval:&lt;/p&gt; &lt;pre&gt;RULE Count exits via exceptions CLASS com.example.SomeClass METHOD someMethod AT EXCEPTION EXIT IF true DO incrementCounter("exceptions"); ENDRULE RULE Print exception exit count CLASS com.example.SomeClass METHOD someMethod AT ENTRY BIND exceptions = readCounter("exceptions"); IF exceptions % 10 == 0 DO trace("Exception exit count for someMethod - "); trace("" + new java.sql.Timestamp(System.currentTimeMillis())); traceln(": " + readCounter("exceptions")); ENDRULE&lt;/pre&gt; &lt;p&gt;The combination of &lt;code&gt;CLASS&lt;/code&gt;, &lt;code&gt;METHOD&lt;/code&gt;, and location (&lt;code&gt;AT ENTRY&lt;/code&gt;, etc.) identify where the Java code provided in the rule gets injected and executed. All expressions appearing in the &lt;code&gt;BIND&lt;/code&gt;, &lt;code&gt;IF&lt;/code&gt;, or &lt;code&gt;DO&lt;/code&gt; clauses are just plain old Java code. An &lt;code&gt;IF&lt;/code&gt; expression must always be provided to determine when the &lt;code&gt;DO&lt;/code&gt; actions get run. The calls to the built-in convenience methods &lt;code&gt;incrementCounter&lt;/code&gt;, &lt;code&gt;readCounter&lt;/code&gt;, &lt;code&gt;trace&lt;/code&gt;, and &lt;code&gt;traceln&lt;/code&gt; actually invoke corresponding methods of a Byteman-provided helper class (aptly named &lt;code&gt;Helper&lt;/code&gt;). The first pair enables counting of events during execution, and the second pair simply wraps calls which print to &lt;code&gt;System.out&lt;/code&gt;.&lt;/p&gt; &lt;p&gt;The &lt;code&gt;IF&lt;/code&gt; expression is always type-checked to ensure it is boolean. By contrast, the type of rule variable &lt;code&gt;exceptions&lt;/code&gt; is inferred to be &lt;code&gt;int&lt;/code&gt; (using the known signature of &lt;code&gt;readCounter&lt;/code&gt;) and is used later to check type-correctness at points of use, such as the modulo (%) or String concat (+) operations.&lt;/p&gt; &lt;p&gt;With Byteman helper scripts, Java statements corresponding to these rules can be dynamically injected into a running Java application without affecting any other parts of the application except for this one particular method. Later these modifications could be removed with a Byteman helper script as well. In a way, this already provides previously unavailable information from the running application and allows you to see whether the method is executing as expected.&lt;/p&gt; &lt;p&gt;Obviously, there are few downsides with this initial approach. Writing rules manually for several methods for different kinds of tracing purposes would be tedious and error-prone. Creating rules for keeping track of, for example, method execution times would be easier if you utilized custom Java classes and methods. Last, but not least, statistics should not be written to stdout but instead be available over the standard JMX interface so that they can be consumed by commonly used monitoring tools.&lt;/p&gt; &lt;h2&gt;Byteman automation tool&lt;/h2&gt; &lt;p&gt;To make diagnosing issues on the fly with Byteman easier and to address the above downsides of the manual approach, a &lt;a href="https://github.com/myllynen/byteman-automation-tutorial/tree/master/byteman-automation-tool"&gt;Byteman automation tool&lt;/a&gt; was recently introduced.&lt;/p&gt; &lt;p&gt;The tool automates the generation of Byteman rules to provide statistics from &lt;em&gt;unmodified&lt;/em&gt; Java applications for metrics such as the number of calls per method, the execution times of methods, the exception exit count per method, the number of instances of a class, and the instance lifetimes. Any set of these statistics can be enabled and disabled dynamically and then monitored with standard tools using JMX.&lt;/p&gt; &lt;p&gt;The tool only requires defining the target methods in a simple text file and then generating the wanted rules with a selected set of command-line options. Below is an example that would create rules to provide metrics for method executions times and exception exit count for three different methods:&lt;/p&gt; &lt;pre&gt;$ cat targets.txt com.example.SomeClass#methodOne com.example.SomeClass#methodTwo com.example.SomeClass#methodThree $ java \ -jar ./target/proftool-1.0.jar \ --input-file targets.txt \ --register-class com.example.SomeClass \ --register-method 'methodOne' \ --call-exectimes-min \ --call-exectimes-avg \ --call-exectimes-max \ --call-exit-except \ --output-file rules.btm $ wc -l rules.btm 108 $ tail -n 9 rules.btm RULE Exits via exceptions from method: com.example.SomeClass - methodThree CLASS com.example.SomeClass METHOD methodThree AT EXCEPTION EXIT HELPER org.jboss.byteman.automate.proftool.JMXHelper COMPILE IF true DO incrementMethodExitExceptCount($CLASS, $METHOD); ENDRULE&lt;/pre&gt; &lt;p&gt;The generated rule employs a dedicated helper class part of the tool, &lt;code&gt;JMXHelper&lt;/code&gt;. The call to its instance method, &lt;code&gt;incrementMethodExitExceptCount()&lt;/code&gt;, updates a class/method-specific counter and makes the value available via JMX. &lt;code&gt;$CLASS&lt;/code&gt; and &lt;code&gt;$METHOD&lt;/code&gt; are special rule variables provided by Byteman, identifying the method the rule was injected into. That is, in this case, their values will be &lt;code&gt;com.example.SomeClass&lt;/code&gt; and &lt;code&gt;methodThree&lt;/code&gt; when the injected code runs.&lt;/p&gt; &lt;p&gt;Now we can use Byteman helper scripts to inject all the needed Java code into a running application on a JVM to start gathering these statistics:&lt;/p&gt; &lt;pre&gt;$ bminstall &amp;#60;pid-of-jvm&amp;#62; $ bmsubmit -s proftool-1.0.jar $ bmsubmit -l rules.btm&lt;/pre&gt; &lt;p&gt;(In case JMX metrics were not enabled on the JVM on startup, a simple utility is available in the &lt;a href="https://github.com/myllynen/byteman-automation-tutorial/blob/master/byteman-automation-tool/JMXEnabler.java"&gt;repo&lt;/a&gt; for enabling JMX on the fly on a JVM.)&lt;/p&gt; &lt;p&gt;The above is all that is needed to see how long each of the three methods take to execute at a minimum, on average, and at a maximum and to see how often they exit due to an exception. Tools like JConsole or Prometheus could then be used for analyzing the situation and determining the next steps.&lt;/p&gt; &lt;h2&gt;Conclusion&lt;/h2&gt; &lt;p&gt;In this article, we saw how the Byteman automation tool provides a quick way to provide additional instrumentation for unmodified Java applications without even the need for restarts. This information may then be used as a basis for further troubleshooting and error correction.&lt;/p&gt; &lt;p&gt;If further details are needed, Byteman supports a lot of alternative &amp;#8220;AT&amp;#8221; locations for injecting code to track and respond to application events like countdowns, flags, and timers. The Byteman Programmer&amp;#8217;s Guide and other resources listed below provide full details on how to use these additional capabilities.&lt;/p&gt; &lt;h2&gt;Byteman Resources&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="http://byteman.jboss.org/"&gt;Byteman homepage&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://byteman.jboss.org/docs.html"&gt;Byteman documentation&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://github.com/myllynen/byteman-automation-tutorial/tree/master/byteman-automation-tool"&gt;Byteman automation tool&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="http://downloads.jboss.org/byteman/latest/byteman-programmers-guide.html"&gt;&lt;em&gt;Byteman Programmer&amp;#8217;s Guide&lt;/em&gt;&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://github.com/myllynen/byteman-automation-tutorial"&gt;Byteman automation tutorial&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;h2&gt;Other Byteman articles&lt;/h2&gt; &lt;ul&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/02/21/byteman-timezone-changed/"&gt;Using Byteman to find out why the TimeZone changed on a Java app server&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/01/02/enabling-byteman-script-red-hat-jboss-fuse-amq/"&gt;Enabling Byteman scripts with Red Hat JBoss Fuse and AMQ – Part 1&lt;/a&gt;&lt;/li&gt; &lt;li&gt;&lt;a href="https://developers.redhat.com/blog/2018/01/18/byteman-jboss-fuse-amq/"&gt;Enabling Byteman scripts with Red Hat JBoss Fuse and AMQ – Part 2&lt;/a&gt;&lt;/li&gt; &lt;/ul&gt; &lt;p&gt;Also see these &lt;a href="https://developers.redhat.com/blog/category/java/"&gt;Java articles&lt;/a&gt; on the Red Hat Developer blog and the Red Hat Developer &lt;a href="https://developers.redhat.com/topics/enterprise-java/"&gt;Enterprise Java page&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;linkname=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F06%2Fdiagnosing-java-applications-with-byteman%2F&amp;#38;title=Diagnosing%20Java%20applications%20on%20the%20fly%20with%20Byteman" data-a2a-url="https://developers.redhat.com/blog/2018/11/06/diagnosing-java-applications-with-byteman/" data-a2a-title="Diagnosing Java applications on the fly with Byteman"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/06/diagnosing-java-applications-with-byteman/"&gt;Diagnosing Java applications on the fly with Byteman&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/FpL1EqMr3gQ" height="1" width="1" alt=""/&gt;</content><summary>Production being affected by software issues is always an unwanted scenario. Diagnosing production issues, however, should never be an unplanned activity. Structured testing and QA efforts would ideally prevent any software bugs from entering production. So the dilemma is how to prepare for something unexpected in production that was not considered during the earlier testing and QA phases. This ar...</summary><dc:creator>Marko Myllynen</dc:creator><dc:date>2018-11-06T14:55:54Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/06/diagnosing-java-applications-with-byteman/</feedburner:origLink></entry><entry><title>This week in JBoss (20th October 2018): jBPM in Abundance</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/0oDwESTBRyI/this-week-in-jboss-20th-october-2018-jbpm-in-abundance" /><category term="3scale" scheme="searchisko:content:tags" /><category term="agroal" scheme="searchisko:content:tags" /><category term="business process management" scheme="searchisko:content:tags" /><category term="Camel" scheme="searchisko:content:tags" /><category term="Eclipse Che" scheme="searchisko:content:tags" /><category term="Elytron" scheme="searchisko:content:tags" /><category term="feed_group_name_global" scheme="searchisko:content:tags" /><category term="feed_name_weeklyeditorial" scheme="searchisko:content:tags" /><category term="Hibernate" scheme="searchisko:content:tags" /><category term="infinispan" scheme="searchisko:content:tags" /><category term="jboss_tools" scheme="searchisko:content:tags" /><category term="keycloak" scheme="searchisko:content:tags" /><category term="microprofile" scheme="searchisko:content:tags" /><category term="narayana" scheme="searchisko:content:tags" /><category term="news" scheme="searchisko:content:tags" /><category term="thorntail" scheme="searchisko:content:tags" /><category term="weekly_editorial" scheme="searchisko:content:tags" /><category term="weekly_update" scheme="searchisko:content:tags" /><category term="wildfly" scheme="searchisko:content:tags" /><author><name>Kevin Conner</name></author><id>searchisko:content:id:jbossorg_blog-this_week_in_jboss_20th_october_2018_jbpm_in_abundance</id><updated>2018-11-06T11:51:39Z</updated><published>2018-11-06T11:51:39Z</published><content type="html">&lt;!-- [DocumentBodyStart:d99f53a3-69be-4529-8a46-9f6b9595327b] --&gt;&lt;div class="jive-rendered-content"&gt;&lt;p&gt;Welcome to another edition of the JBoss Editorial, our regular trip through the JBoss communities in search of interesting developments.&amp;#160; In this week's edition we are largely focussing on jBPM with numerous articles being written by that community.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;jBPM in Abundance&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We start our jBPM fest with an article from Maciej &lt;a class="jive-link-external-small" href="http://mswiderski.blogspot.com/2018/10/lets-embed-forms-rendered-by-kie-server.html" rel="nofollow"&gt;demonstrating the sophisticated form builder available within the KIE Server&lt;/a&gt;, no longer restricted to the workbench, and provides support for rendering process forms, case forms and user task forms.&amp;#160; Maciej includes some screenshots from the sample projects as well as some screen casts showing this in action.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The next articles are primarily video, demonstrating &lt;a class="jive-link-external-small" href="http://mswiderski.blogspot.com/2018/10/jbpm-business-apps-dashboard-demo.html" rel="nofollow"&gt;how you can quickly create a dashboard to interact with your business processes&lt;/a&gt; and &lt;a class="jive-link-external-small" href="http://blog.athico.com/2018/10/early-video-of-jbpm-case-modeller.html" rel="nofollow"&gt;an early preview of the jBPM Case Modeller improvements&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Continuing the jBPM theme we take a look at &lt;a class="jive-link-external-small" href="http://mswiderski.blogspot.com/2018/10/handle-service-exceptions-via-subprocess.html" rel="nofollow"&gt;which strategies your business process can adopt to introduce resiliency when interacting with services&lt;/a&gt;, dealing with exceptions raised by the service through the creation of a subprocess followed by a decision to complete, abort or retry the service task or to re-throw the exception to the caller of the task.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;One of the strengths of jBPM is its ability to integrate your business processes with external services including third party integration services such as IFTTT, in our next article &lt;a class="jive-link-external-small" href="http://mswiderski.blogspot.com/2018/10/jbpm-business-applications-ifttt.html" rel="nofollow"&gt;Tihmoir creates a demo showing how to use the IFTTT workitem to invoke an applet on the IFTTT platform, in this case launching Google Maps on your phone and sending you an SMS&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;We end our tour of jBPM with an introduction to a new Tech Preview feature in Workbench 7.13.0.Final, the DMN Editor Preview.&amp;#160; The editor is disabled by default and still under development, however &lt;a class="jive-link-external-small" href="http://blog.athico.com/2018/10/new-dmn-editor-preview.html" rel="nofollow"&gt;it is a simple task to enable the editor allowing you to then create and deploy a DMN model&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;Introducing Camel K&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;The Apache Camel team have introduced a new project designed for serverless and microservice architectures, Apache Camel K (aka Kamel).&amp;#160; &lt;a class="jive-link-external-small" href="https://www.nicolaferraro.me/2018/10/15/introducing-camel-k/" rel="nofollow"&gt;Kamel runs in a kubernetes environment, such as OpenShift, and makes use of the operator pattern to drive the deployment and execution of integration patterns expressed using the Camel DSL&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;Integrating Third Party Identity Providers with 3scale API Management&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;With the release of 3scale API Management 2.3 it is now possible to directly integrate a third party, OIDC compliant identity provider, whereas in previous releases this task had been satisfied by using Red Hat Single Sign-On as the identity broker.&amp;#160; To &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/09/3scale-3rd-party-idp-oidc/" rel="nofollow"&gt;demonstrate how this integration works Luca walks us through the integration of 3scale API with Management Oracle IDCS and Microsoft Azure Active Directory&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;Using Keycloak to provide Single Sign-On&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;When securing websites one deployment configuration commonly used is to place a reverse proxy in front of the server providing the content and have the reverse proxy handle the interactions with an OpenID Connect server to perform authentication and authorisation.&amp;#160; To &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/08/configuring-nginx-keycloak-oauth-oidc/" rel="nofollow"&gt;explain how this scenario can be deployed Siddhartha takes us through an example which uses Keycloak as the authorization server and NGINX as the reverse proxy&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;Hibernate Community Newsletter&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;In &lt;a class="jive-link-external-small" href="http://in.relation.to/2018/10/15/hibernate-community-newsletter-2018-20/" rel="nofollow"&gt;Hibernate Community Newsletter 20/2018&lt;/a&gt; you will find articles explaining several optimisations for speeding up batch processing, how to use the paging mechanism to retrieve only the information you need, how to use DTO projections with the Spring Data JPA to efficiently fetch read-only information, how to simplify data persistence using JPA and Hibernate and an explanation of Hibernate proxies and how the session &lt;em&gt;load&lt;/em&gt; method works with the &lt;em&gt;get&lt;/em&gt; and &lt;em&gt;find&lt;/em&gt; methods.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;span style="font-size: 20px; font-weight: bold;"&gt;Integrating Narayana and Agroal Connection Pool&lt;/span&gt;&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;&lt;a class="jive-link-external-small" href="http://agroal.github.io/" rel="nofollow"&gt;Agroal&lt;/a&gt; is a database connection pool developed by Luis Barreiro, one of the performance engineers on the WildFly project, and is one of a number of pooling options which integrates smoothly with Narayana.&amp;#160; &lt;a class="jive-link-external-small" href="http://jbossts.blogspot.com/2018/10/integration-with-agroal-database.html" rel="nofollow"&gt;The combination can be used within a standalone application as well as through XA resources within the WildFly application server&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;Using WildFly Elytron JASPI with Standalone Undertow&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;As part of the development efforts for WildFly 15 the Elytron team created an implementation of the servlet profile from the JASPI specification and, in common with the majority of Elytron features, this can be used outside of the application server.&amp;#160; To demonstrate this feature &lt;a class="jive-link-external-small" href="http://darranl.blogspot.com/2018/10/using-wildfly-elytron-jaspi-with.html" rel="nofollow"&gt;Darran has created a demo showing how to integrate the WildFly Elytron JASPI implementation with a standalone Undertow server&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;JBoss Out and About&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Eric Schabell will be attending &lt;a class="jive-link-external-small" href="https://allthingsopen.org/" rel="nofollow"&gt;All Things Open&lt;/a&gt; in Raleigh, North Carolina from October 21st to 23rd to give his &lt;a class="jive-link-external-small" href="http://www.schabell.org/2018/10/all-things-open-2018-lightning-talk.html" rel="nofollow"&gt;presentation "&lt;strong&gt;10 Steps to Cloud Happiness&lt;/strong&gt;" and also a lightning talk on "&lt;strong&gt;How to Jump Start a Career in Open Source&lt;/strong&gt;"&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;This upcoming week sees &lt;a class="jive-link-external-small" href="https://www.eclipsecon.org/europe2018" rel="nofollow"&gt;EclipseCon Europe&lt;/a&gt; take place in Ludwigsburg, Germany from October 23rd through October 25th with the &lt;a class="jive-link-external-small" href="https://www.eclipsecon.org/europe2018/eclipse-che-theia-contributor-summit" rel="nofollow"&gt;Che and Theia Contributor Summit&lt;/a&gt; taking place the day before the conference.&amp;#160; Red Hat will be attending &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/16/eclipsecon-eclipse-che-red-hat/" rel="nofollow"&gt;with many Red Hatters presenting Che related sessions through the conference&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;Claus Ibsen was recently in Minsk, Belarus to attend the &lt;a class="jive-link-external-small" href="https://jfuture.by/" rel="nofollow"&gt;JFuture 2018&lt;/a&gt; conference where he gave a &lt;a class="jive-link-external-small" href="http://www.davsclaus.com/2018/10/my-first-visit-to-belarus-speaking-at.html" rel="nofollow"&gt;presentation and workshop on Camel and Microsystems&lt;/a&gt;.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;James Falkner and Cesar Saavedra were recently at the &lt;a class="jive-link-external-small" href="https://www.redhat.com/en/events/red-hat-microsoft-ignite-2018" rel="nofollow"&gt;Microsoft Ignite 2018&lt;/a&gt; conference in Orlando where they gave a presentation demonstrating &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/17/microprofile-apps-azure-open-service-broker/" rel="nofollow"&gt;how to deploy MicroProfile apps on Microsoft Azure using the Azure Open Service Broker&lt;/a&gt;.&amp;#160; The presentation included a demo which started with the classic Minesweeper game and integrated a scoreboard backed by Azure's Cosmos DB service.&lt;/p&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;h2&gt;New Releases&lt;/h2&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;The &lt;a class="jive-link-external-small" href="https://thorntail.io/" rel="nofollow"&gt;Thorntail&lt;/a&gt; team have announced the release of &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/17/announcing-thorntail-2-2-general-availability/" rel="nofollow"&gt;Thorntail 2.2&lt;/a&gt;.&lt;/li&gt;&lt;li&gt;The &lt;a class="jive-link-external-small" href="http://hibernate.org/" rel="nofollow"&gt;Hibernate&lt;/a&gt; team have announced the release of &lt;a class="jive-link-external-small" href="http://in.relation.to/2018/10/17/hibernate-orm-537-final-out/" rel="nofollow"&gt;Hibernate ORM 5.3.7.Final&lt;/a&gt;.&lt;/li&gt;&lt;li&gt;The &lt;a class="jive-link-external-small" href="https://tools.jboss.org/" rel="nofollow"&gt;JBoss Tools&lt;/a&gt; team have announced the release of &lt;a class="jive-link-external-small" href="https://developers.redhat.com/blog/2018/10/09/devstudio-12-9-jboss-tools-4-9-eclipse-2018-09/" rel="nofollow"&gt;Red Hat Developer Studio 12.9 and JBoss Tools 4.9.0&lt;/a&gt;.&lt;/li&gt;&lt;li&gt;The &lt;a class="jive-link-external-small" href="http://infinispan.org/" rel="nofollow"&gt;Infinispan&lt;/a&gt; team have announced the release of &lt;a class="jive-link-external-small" href="https://blog.infinispan.org/2018/10/infinispan-940final.html" rel="nofollow"&gt;Infinispan 9.4.0.Final&lt;/a&gt; and &lt;a class="jive-link-external-small" href="https://blog.infinispan.org/2018/10/infinispan-spring-boot-200final-is-out.html" rel="nofollow"&gt;Infinispan Spring Boot 2.0.0.Final&lt;/a&gt;.&lt;/li&gt;&lt;/ul&gt;&lt;p style="min-height: 8pt; padding: 0px;"&gt;&amp;#160;&lt;/p&gt;&lt;p&gt;That's all for this week's edition of the Editorial, please join us next time as we continue our journey through the JBoss Communities in search of interesting articles and news.&lt;/p&gt;&lt;/div&gt;&lt;!-- [DocumentBodyEnd:d99f53a3-69be-4529-8a46-9f6b9595327b] --&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/0oDwESTBRyI" height="1" width="1" alt=""/&gt;</content><summary>Welcome to another edition of the JBoss Editorial, our regular trip through the JBoss communities in search of interesting developments.  In this week's edition we are largely focussing on jBPM with numerous articles being written by that community.   jBPM in Abundance   We start our jBPM fest with an article from Maciej demonstrating the sophisticated form builder available within the KIE Server,...</summary><dc:creator>Kevin Conner</dc:creator><dc:date>2018-11-06T11:51:39Z</dc:date><feedburner:origLink>https://developer.jboss.org/blogs/weekly-editorial/2018/11/06/this-week-in-jboss-20th-october-2018-jbpm-in-abundance</feedburner:origLink></entry><entry><title>Migrating from Oracle JDK to OpenJDK on Red Hat Enterprise Linux: What you need to know</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/kGHfKtePyNQ/" /><category term="Enterprise Java" scheme="searchisko:content:tags" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="Java" scheme="searchisko:content:tags" /><category term="OpenJDK" scheme="searchisko:content:tags" /><category term="Oracle JDK" scheme="searchisko:content:tags" /><category term="Red Hat Enterprise Linux" scheme="searchisko:content:tags" /><category term="rhel" scheme="searchisko:content:tags" /><author><name>Leo Ufimtsev</name></author><id>searchisko:content:id:jbossorg_blog-migrating_from_oracle_jdk_to_openjdk_on_red_hat_enterprise_linux_what_you_need_to_know</id><updated>2018-11-05T13:00:07Z</updated><published>2018-11-05T13:00:07Z</published><content type="html">&lt;p&gt;Oracle &lt;a href="https://blogs.oracle.com/java-platform-group/end-of-public-updates-is-a-process%2c-not-an-event"&gt;announced&lt;/a&gt; it will stop releasing public updates of Oracle JDK in &lt;a href="https://www.oracle.com/technetwork/java/eol-135779.html"&gt;January 2019&lt;/a&gt; and will require a commercial license for its use. An alternative is to use &lt;a href="https://developers.redhat.com/products/openjdk/overview/"&gt;OpenJDK&lt;/a&gt; and effort is underway to make them fully &lt;a href="https://www.oracle.com/technetwork/java/eol-135779.html"&gt;interchangeable&lt;/a&gt;. A number of companies who are currently using Oracle JDK in production are making the decision to switch to OpenJDK or have already done so.&lt;/p&gt; &lt;p&gt;&lt;a href="https://developers.redhat.com/blog/author/aphredhat/"&gt;Andrew Haley&lt;/a&gt; (Red Hat&amp;#8217;s Java Platform Lead Engineer) recently wrote &lt;a href="https://developers.redhat.com/blog/2018/09/24/the-future-of-java-and-openjdk-updates-without-oracle-support/"&gt;a great article on the direction of OpenJDK&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;In this article, I&amp;#8217;ll discuss: the technical and support implications of the migration, what developers and operations teams need to know, and solutions to potential challenges.&lt;/p&gt; &lt;p&gt;I&amp;#8217;ll go over the Red Hat support model and technical details of how to install, update, and run different OpenJDK versions on &lt;a href="https://developers.redhat.com/products/rhel/download/"&gt;Red Hat Enterprise Linux&lt;/a&gt; (RHEL) 6 and 7 systems. I&amp;#8217;ll also discuss the operations of &lt;a href="https://developers.redhat.com/topics/enterprise-java/"&gt;Java&lt;/a&gt; applications (such as &lt;a href="https://developers.redhat.com/products/eap/overview/"&gt;Red Hat JBoss Enterprise Application Platform&lt;/a&gt; (JBoss EAP) and other servers) on top of OpenJDK.&lt;/p&gt; &lt;p&gt;While this article is about OpenJDK on RHEL, I should also point out that &lt;a href="https://developers.redhat.com/products/openjdk/download/"&gt;OpenJDK for Windows&lt;/a&gt; can also be downloaded from developers.redhat.com. This lets you use the same JDK for Linux and Windows.&lt;/p&gt; &lt;p&gt;&lt;span id="more-530217"&gt;&lt;/span&gt;&lt;/p&gt; &lt;h2&gt;Architectural overview&lt;/h2&gt; &lt;p&gt;A common configuration with Oracle JDK is for development teams to &lt;strong&gt;bundle&lt;/strong&gt; Oracle JDK together with the application and only update the JDK if there is a security patch, bug fix, or new feature available in the new JDK.&lt;/p&gt; &lt;p&gt;OpenJDK, on the other hand, is &lt;a href="https://access.redhat.com/solutions/404283"&gt;not available as zip file&lt;/a&gt; (at time of writing). Instead, it is installed via &lt;code&gt;yum&lt;/code&gt;, &lt;code&gt;dnf&lt;/code&gt;, or &lt;code&gt;rpm&lt;/code&gt;, with &lt;code&gt;yum&lt;/code&gt; being the &lt;a href="https://access.redhat.com/solutions/404283"&gt;recommended&lt;/a&gt; method. Multiple concurrent major versions on the same server are fully supported (see below).&lt;/p&gt; &lt;p&gt;For businesses, this generally means that maintenance and updates to OpenJDK are handled by the infrastructure team (or someone with root access) instead of by the development team.&lt;/p&gt; &lt;p&gt;You should also be mindful about OpenJDK updates. While multiple major versions are supported (1.7, 1.8), &lt;code&gt;yum&lt;/code&gt; will generally update the system to the latest minor build of each major version. (1.8 b60 -&amp;#62; 1.8 b191) and, by default, only the latest minor build is left installed. If you need multiple minor (build) versions installed concurrently, see the &lt;a href="#minor"&gt;section for minor versions&lt;/a&gt; below.&lt;/p&gt; &lt;h2&gt;&lt;a href="https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK.png"&gt;&lt;img class=" aligncenter wp-image-530297 " data-add-featherlight="https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK-1024x540.png" src="https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK.png" alt="Migrating Oracle JDK to OpenJDK" width="1273" height="671" srcset="https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK.png 1273w, https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK-300x158.png 300w, https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK-768x405.png 768w, https://developers.redhat.com/blog/wp-content/uploads/2018/10/OracleJDK_to_OpenJDK-1024x540.png 1024w" sizes="(max-width: 1273px) 100vw, 1273px" /&gt;&lt;/a&gt;&lt;/h2&gt; &lt;p&gt;Some customers have access to Oracle JDK SE via a content repository from Red Hat. However, in lieu of Oracle&amp;#8217;s licensing changes, &lt;a href="https://access.redhat.com/articles/3253281"&gt;after the 30th of Nov. 2018, packages will not be available anymore&lt;/a&gt;. For OpenJDK installation instructions, see the instructions below.&lt;/p&gt; &lt;h2&gt;Support options&lt;/h2&gt; &lt;p&gt;Major LTS OpenJDK versions (&lt;a href="https://access.redhat.com/articles/1299013"&gt;7, 8&lt;/a&gt;,  and &lt;a href="https://access.redhat.com/articles/3409141"&gt;11&lt;/a&gt;) on RHEL are fully supported by Red Hat and Red Hat is committed to providing &lt;a href="https://access.redhat.com/articles/1299013"&gt;code-level patches&lt;/a&gt; for bug fixes. Major versions are supported for at least 6 years. For instance, OpenJDK 1.8 is supported until &lt;a href="https://access.redhat.com/articles/1299013"&gt;June 2023&lt;/a&gt;. OpenJDK is &lt;a href="https://access.redhat.com/articles/1299013"&gt;TCK-compliant&lt;/a&gt; and Red Hat tests and supports Java EE implementations such as the &lt;a href="https://access.redhat.com/articles/2026253"&gt;JBoss Enterprise Application Platform running on OpenJDK&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For full details, see the &lt;a href="https://access.redhat.com/articles/1299013"&gt;OpenJDK Life Cycle and Support Policy&lt;/a&gt;.&lt;time class="entry-date published" datetime="2016-06-27T10:00:02+00:00"&gt;&lt;/time&gt;&lt;/p&gt; &lt;h2&gt;How to install OpenJDK and which packages are relevant&lt;/h2&gt; &lt;p&gt;OpenJDK comes with a number of rpm packages. Only the first three are relevant for RHEL production servers.&lt;/p&gt; &lt;p&gt;On RHEL7, they can be found in the &lt;code&gt;rhel-7-server-rpms&lt;/code&gt; repo.&lt;/p&gt; &lt;pre&gt;java-1.8.0-openjdk.x86_64 # To execute java applications. java-1.8.0-openjdk-devel.x86_64 # For compilation of Java. javac etc.. java-1.8.0-openjdk-headless.x86_64 # no audio/video. Just SE. E.g for embedded systems &lt;/pre&gt; &lt;p&gt;For developers running RHEL/Fedora, you may also want to install the following packages:&lt;/p&gt; &lt;pre&gt;java-1.8.0-openjdk-javadoc.noarch # Javadoc that can be included in your IDE. java-1.8.0-openjdk-src.x86_64 # Java sources, to review api implementation. &lt;/pre&gt; &lt;p&gt;The installation is business as usual. I generally install the development package (to be able to compile applications) and it&amp;#8217;ll pull in the required dependencies. (See &lt;a href="https://developers.redhat.com/blog/2018/08/15/how-to-enable-sudo-on-rhel/"&gt;this article&lt;/a&gt; if you need to enable &lt;code&gt;sudo&lt;/code&gt;.)&lt;/p&gt; &lt;pre&gt;$ sudo yum install java-1.8.0-openjdk-devel.x86_64 &lt;/pre&gt; &lt;p&gt;Sometimes I use &lt;code&gt;ssh&lt;/code&gt; to access a server and I want to know which JDK is installed and is in the &lt;code&gt;PATH&lt;/code&gt;. To tell Oracle JDK and OpenJDK apart, OpenJDK has &amp;#8220;openjdk&amp;#8221; in the version output:&lt;/p&gt; &lt;pre&gt;$ java -version openjdk version "1.8.0_171 # OpenJDK $ java -version java version "1.8.0_171 # OracleJDK &lt;/pre&gt; &lt;h2&gt;How to install and use multiple &amp;#8220;major&amp;#8221; versions of OpenJDK&lt;/h2&gt; &lt;p&gt;Major versions are 7, 8, and 11   (aka 1.7, 1.8&amp;#8230;). Multiple major versions on the same system are &lt;a href="https://access.redhat.com/solutions/3040171"&gt;fully supported&lt;/a&gt; (in the context that each major version is updated to the latest minor version).&lt;/p&gt; &lt;p&gt;Installation is business as usual:&lt;/p&gt; &lt;pre&gt;# List installed and available packages: $ sudo yum list *openjdk* # Install desired version(s): $ sudo yum install java-1.7.0-openjdk-devel.x86_64 $ sudo yum install java-1.8.0-openjdk-devel.x86_64 &lt;/pre&gt; &lt;p&gt;Now, for selecting which one to use, you have the choice to&lt;/p&gt; &lt;ol&gt; &lt;li&gt;Use &lt;code&gt;alternatives&lt;/code&gt; to select the default Java version on your system.&lt;br /&gt; This is a good option if you want to be able to select the default Java version for your entire system.&lt;/li&gt; &lt;li&gt;Hard-code the &lt;code&gt;JAVA_HOME&lt;/code&gt; path manually to a symlink that points to the latest minor version.&lt;br /&gt; This is useful if you want to ensure an application always starts with a particular version of Java, independent of the default Java version on the system.&lt;/li&gt; &lt;/ol&gt; &lt;h3&gt;Option 1: Setting the default Java via &lt;code&gt;alternatives&lt;/code&gt;&lt;/h3&gt; &lt;p&gt;&lt;code&gt;alternatives&lt;/code&gt; instructs the system which Java to use for the whole system.&lt;br /&gt; You shouldn&amp;#8217;t change this during the execution of Java to start another application with a different Java version. To do that, use &lt;a href="#2"&gt;option 2&lt;/a&gt; below instead.&lt;/p&gt; &lt;p&gt;A common pitfall for developers is to set the default version of Java, but not to set the Java compiler (javac). If you&amp;#8217;re compiling Java applications on the server, make sure to set both.&lt;/p&gt; &lt;pre&gt;$ sudo alternatives --config java # for running java applications. $ sudo alternatives --config javac # for compiling java applications. $ sudo alternatives --list # show available alternatives. &lt;/pre&gt; &lt;p&gt;As a sanity check, I like to test with a mini &amp;#8220;hello world&amp;#8221; Java application that outputs the Java version.&lt;/p&gt; &lt;pre&gt; $ cat jdkVersions.java public class jdkVersions { public static void main(String[] args) { System.out.println("This app runs on: " + System.getProperty("java.version")); } } $ javac jdkVersions.java # this creates a jdkVersions.class $ java jdkVersions This app runs on: 1.8.0_191 &lt;/pre&gt; &lt;p&gt;For full details of &lt;code&gt;alternatives&lt;/code&gt; and the support of major versions, see &lt;a href="https://access.redhat.com/solutions/3040171"&gt;Can I install multiple versions of java on a Red Hat Enterprise Linux system?&lt;/a&gt;&lt;/p&gt; &lt;h3&gt;&lt;a name="2"&gt;&lt;/a&gt;Option 2:  Hard-coding the &lt;code&gt;JAVA_HOME&lt;/code&gt; path&lt;/h3&gt; &lt;p&gt;You can set the &lt;code&gt;JAVA_HOME&lt;/code&gt; path as follows.&lt;/p&gt; &lt;pre&gt;# Under '/usr/lib/jvm/' you can find symlinks that point to the latest java versions. # You will find jre-1.8.0-openjdk and java-1.8.0-openjdk. The 'java' one is the one you need if you compile things. E.g: $ export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk # or 1.7 etc.. $ export PATH=$JAVA_HOME/bin:$PATH # Validate via: $ java -version openjdk version "1.8.0_191" $ javac -version javac 1.8.0_191 &lt;/pre&gt; &lt;h2&gt;&lt;a name="minor"&gt;&lt;/a&gt;How to install and use a particular or multiple &amp;#8220;minor&amp;#8221; versions of OpenJDK&lt;/h2&gt; &lt;p&gt;In an ideal world, you would generally always update RHEL and you&amp;#8217;d update OpenJDK to the latest minor version (for example, update 1.8 build 60 to 1.8 build 191).&lt;/p&gt; &lt;p&gt;But sometimes in your production environment, you run multiple Java applications and you&amp;#8217;re unable to migrate them all to the latest version of OpenJDK at the same time or a build update breaks something. In such a case, you need to run your Java application on a particular build or you need to have multiple builds on the system.&lt;/p&gt; &lt;p&gt;As a warning, while this is technically possible, from a support point of view, generally Red Hat will support multiple LTS major versions, but only the latest &lt;strong&gt;minor&lt;/strong&gt; version will be supported with patches if there are JVM crashes or other JVM issues. That is, Red Hat support will generally ask you if the issue can be reproduced with the latest minor build.&lt;/p&gt; &lt;p&gt;Another point to consider is that Java uses some underlying system libraries. When you update RHEL, the underlying libraries get updated, which may impact older minor builds. You should avoid the situation where you never update your JDK and the JDK becomes (for example) over a year behind the OS. That is, using an older minor build should only be a short-term situation while Dev or QA is validating the app against the newest build.&lt;/p&gt; &lt;p&gt;In other words, you should always aim to keep your applications on the newest minor build, similar to always waking up on time in the morning. If that&amp;#8217;s simply not possible, run a particular build or run multiple minor builds, as described below.&lt;/p&gt; &lt;h3&gt;&lt;strong&gt;Running a particular build and preventing updates&lt;/strong&gt;&lt;/h3&gt; &lt;pre&gt;# List all versions: $ sudo yum list available --showduplicates java-1.8.0-openjdk-devel.x86_64 Package name Versions java-1.8.0-openjdk-devel.x86_64 1:1.8.0.31-2.b13.el7 java-1.8.0-openjdk-devel.x86_64 1:1.8.0.151-1.b12.el7_4 ... # Install the version you want by specifying (package name)-(version) where 'version' doesn't contain the '1:' prefix. E.g $ sudo yum install java-1.8.0-openjdk-devel-1.8.0.191.b12-0.el7_5 # You can then exclude OpenJDK from yum updates either manually or by configuring /etc/yum.conf (see link below). $ sudo yum update --exclude=java-1.8.0-openjdk* &lt;/pre&gt; &lt;p&gt;See also &lt;a href="https://access.redhat.com/solutions/10185"&gt;exclude kernel or other packages from getting updated in RHEL&lt;/a&gt;.&lt;/p&gt; &lt;h3&gt;&lt;strong&gt;Running multiple minor builds and preventing automatic removal of older packages&lt;/strong&gt;&lt;/h3&gt; &lt;p&gt;Typically when updating a package, the latest matching version is installed and any previous versions are removed. It is recommended to always run just the latest minor version that has the most up-to-date security and bug fixes.  However, there are times when you&amp;#8217;d like to have multiple versions installed concurrently.  With RHEL 7, you can prevent &lt;code&gt;yum&lt;/code&gt; from automatically removing the older versions.  (Note: In RHEL 6, this is not possible. I&amp;#8217;ve tried; you get rpm version conflicts and the Red Hat development team confirmed that this is expected behavior.)&lt;/p&gt; &lt;p&gt;OpenJDK 1.7 and 1.8 are considered separate packages, because they are different major versions.&lt;/p&gt; &lt;p&gt;Finally, while running multiple minor versions is technically possible, only the latest minor version will be supported if there are JVM crashes or issues.&lt;/p&gt; &lt;p&gt;&amp;#160;&lt;/p&gt; &lt;p&gt;To get around this, you can instruct yum to keep old versions of particular packages, in our case, OpenJDK:&lt;/p&gt; &lt;pre&gt;# edit /etc/yum.conf and append the following: installonlypkgs=java-1.8.0-openjdk,java-1.8.0-openjdk-headless,java-1.8.0-openjdk-devel # Now you can install Java packages per the instructions above and list installed versions via: # rpm -qa | grep java-1.8.0-openjdk # you should see multiple OpenJDK versions if you've installed multiple ones. # Now you may wish to hard-code JAVA_HOME to a particular Java minor version. E.g: $ export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-5.b12.el7_4.x86_64 $ export PATH=$JAVA_HOME/bin:$PATH # Validate via: $ java -version openjdk version "1.8.0_151" $ javac -version javac 1.8.0_151 &lt;/pre&gt; &lt;p&gt;For details, please see &lt;a href="https://access.redhat.com/solutions/3508401"&gt;How to install multiple minor versions of OpenJDK on a Red Hat Enterprise Linux system?&lt;/a&gt;&lt;/p&gt; &lt;h2&gt;Are there known issues or incompatibilities, or does OpenJDK lack something that Oracle JDK has?&lt;/h2&gt; &lt;p&gt;Oracle JDK 11 and OpenJDK 11 will be &lt;a href="https://www.oracle.com/technetwork/java/javase/eol-135779.html"&gt;interchangeable&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;There are some differences between Oracle JDK 1.8 and OpenJDK 1.8, although the gap is shrinking.&lt;/p&gt; &lt;p&gt;For example, &lt;a href="https://wiki.openjdk.java.net/display/jmc/Main"&gt;Mission Control has been open sourced recently&lt;/a&gt;. I know a software engineer in our Toronto, Canada, office who recently started working on it. Java Flight Recorder was also open sourced and will be available in JDK 11. VisualVM has been open source for a while and as of &lt;a href="https://blogs.oracle.com/java-platform-group/visual-vm-in-jdk-9-and-beyond"&gt;JDK 9 it is no longer shipped with the JDK but is available as a separate open source project&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;I&amp;#8217;ve heard there are plans to make them available via rpm in the future as part of OpenJDK 11.&lt;/p&gt; &lt;p&gt;While OpenJDK 1.8 is SE-compliant, Oracle JDK has some additional features, which should be taken into account.&lt;/p&gt; &lt;p&gt;For example, &lt;a href="https://stackoverflow.com/questions/18547362/javafx-and-openjdk"&gt; JavaFX code&lt;/a&gt; may require some work. There is &lt;a href="http://www.openfx.org/"&gt;OpenFX&lt;/a&gt;, though.&lt;/p&gt; &lt;p&gt;I&amp;#8217;ve been asked whether Java&amp;#8217;s Cryptography/Security extension (JCE) is supported in OpenJDK. The answer is &lt;a href="https://access.redhat.com/solutions/1363643"&gt;yes it is&lt;/a&gt;, although for legal reasons, you need to &lt;a href="https://access.redhat.com/solutions/1524443"&gt;download the unlimited strength files manually from Oracle&lt;/a&gt;. Also see the &lt;a href="https://access.redhat.com/solutions/26360"&gt;installation notes&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Sometimes I get asked if monitoring agents are compatible with OpenJDK (for example, AppDynamics). In general, most tools are compatible, although you need to check if all features are compatible.&lt;/p&gt; &lt;p&gt;The general approach is to try to switch your application to OpenJDK (via &lt;code&gt;JAVA_HOME&lt;/code&gt;), re-compile and see if there are any compile / test issues and go from there.&lt;/p&gt; &lt;h2&gt;What about OpenShift?&lt;/h2&gt; &lt;p&gt;Red Hat provides container images with OpenJDK as base images. See the article &lt;a href="https://developers.redhat.com/blog/2017/02/23/getting-started-with-openshift-java-s2i/"&gt;Getting Started with OpenShift Java S2I&lt;/a&gt; to learn more about source-to-image container builds.&lt;/p&gt; &lt;p&gt;&amp;#160;&lt;/p&gt; &lt;p&gt;I hope this article helps. If you have some other questions, please post a comment and I&amp;#8217;ll try my best to answer.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;linkname=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F05%2Fmigrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know%2F&amp;#38;title=Migrating%20from%20Oracle%20JDK%20to%20OpenJDK%20on%20Red%20Hat%20Enterprise%20Linux%3A%20What%20you%20need%20to%20know" data-a2a-url="https://developers.redhat.com/blog/2018/11/05/migrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know/" data-a2a-title="Migrating from Oracle JDK to OpenJDK on Red Hat Enterprise Linux: What you need to know"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/05/migrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know/"&gt;Migrating from Oracle JDK to OpenJDK on Red Hat Enterprise Linux: What you need to know&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/kGHfKtePyNQ" height="1" width="1" alt=""/&gt;</content><summary>Oracle announced it will stop releasing public updates of Oracle JDK in January 2019 and will require a commercial license for its use. An alternative is to use OpenJDK and effort is underway to make them fully interchangeable. A number of companies who are currently using Oracle JDK in production are making the decision to switch to OpenJDK or have already done so. Andrew Haley (Red Hat’s Java Pl...</summary><dc:creator>Leo Ufimtsev</dc:creator><dc:date>2018-11-05T13:00:07Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/05/migrating-from-oracle-jdk-to-openjdk-on-red-hat-enterprise-linux-what-you-need-to-know/</feedburner:origLink></entry><entry><title>How to manually copy SSH public keys to servers on Red Hat Enterprise Linux</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/BKR5xDmSc0o/" /><category term="feed_group_name_nonmiddleware" scheme="searchisko:content:tags" /><category term="feed_name_redhat_developer_blog" scheme="searchisko:content:tags" /><category term="linux" scheme="searchisko:content:tags" /><category term="Red Hat Enterprise Linux" scheme="searchisko:content:tags" /><category term="Secure shell" scheme="searchisko:content:tags" /><category term="security" scheme="searchisko:content:tags" /><category term="ssh" scheme="searchisko:content:tags" /><category term="Sysadmin for Developers" scheme="searchisko:content:tags" /><author><name>Leo Ufimtsev</name></author><id>searchisko:content:id:jbossorg_blog-how_to_manually_copy_ssh_public_keys_to_servers_on_red_hat_enterprise_linux</id><updated>2018-11-02T12:00:57Z</updated><published>2018-11-02T12:00:57Z</published><content type="html">&lt;p&gt;We often use &lt;code&gt;ssh-copy-id&lt;/code&gt; to copy ssh keys from our local &lt;a href="https://developers.redhat.com/topics/linux/"&gt;Linux&lt;/a&gt; computers to RHEL servers in order to connect without typing in a password. This is not only for convenience; it enables you to script and automate tasks that involve remote machines.  Also, using ssh keys correctly is considered a best practice.  If you are conditioned to respond with your password every time you are prompted, you might not notice a prompt that isn&amp;#8217;t legitimate (for example, spoofed).&lt;/p&gt; &lt;p&gt;What about when you can&amp;#8217;t use &lt;code&gt;ssh-copy-id&lt;/code&gt; or the target user ID doesn&amp;#8217;t have a password (for example, an Ansible service user)? This article explains how to do it manually and avoid the common pitfall of forgetting to set the proper permissions.&lt;span id="more-531087"&gt;&lt;/span&gt;&lt;/p&gt; &lt;p&gt;Usually, you&amp;#8217;d do this:&lt;/p&gt; &lt;pre&gt;ssh-keygen ... ssh-copy-id USER@IP &lt;/pre&gt; &lt;p&gt;However, when &lt;code&gt;ssh-copy-id&lt;/code&gt; is not available for use, you can do the following.  This includes the steps to set the proper permissions.  If permissions and/or ownership of the &lt;code&gt;.ssh&lt;/code&gt; directory and files are incorrect,  it will still ask you for the password. This can be difficult to diagnose if you don&amp;#8217;t have root access to check the logs.&lt;/p&gt; &lt;p&gt;On your local machine, do this:&lt;/p&gt; &lt;pre&gt;$ ssh-keygen $ cat ~/.ssh/id_rsa.pub ssh-rsa ... stuff ... user@domain &lt;/pre&gt; &lt;p&gt;Now copy the line from &lt;code&gt;ssh-rsa&lt;/code&gt; to your &lt;em&gt;user@domain&lt;/em&gt; so that&amp;#8217;s it is on the clipboard, or put it on a USB stick, or write it onto paper and send it via a delivery pigeon.  This is your public key that needs to be added to &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; on the remote server.&lt;/p&gt; &lt;p&gt;On the remote server, do this:&lt;/p&gt; &lt;pre&gt;$ mkdir ~/.ssh/ $ chmod 700 ~/.ssh # this is important. $ touch ~/.ssh/authorized_keys $ chmod 600 ~/.ssh/authorized_keys #this is important. &lt;/pre&gt; &lt;p&gt;On the remote system, edit &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; and append the output of the &lt;code&gt;cat&lt;/code&gt; command above.&lt;/p&gt; &lt;p&gt;Now you should be able to connect from your computer to the remote system. No restarts are necessary.&lt;/p&gt; &lt;p&gt;For more details, see &lt;a href="https://access.redhat.com/solutions/9194"&gt;How to setup SSH passwordless login in Red Hat Enterprise Linux&lt;/a&gt; on the Red Hat Customer Portal. Keep in mind that when you &lt;a href="https://developers.redhat.com/articles/red-hat-developer-program-benefits/"&gt;join the Red Hat Developer Program,&lt;/a&gt; a no-cost developer subscription is automatically added to your account. Using your Red Hat ID, you&amp;#8217;ll have access to the articles and knowledgebase on &lt;a href="https://access.redhat.com/"&gt;access.redhat.com&lt;/a&gt;. The developer subscription period is one year. However, all you have to do in order to renew is log in to &lt;a href="https://developers.redhat.com/login"&gt;developers.redhat.com&lt;/a&gt; again.&lt;/p&gt; &lt;p&gt;On a related note, if you need help getting &lt;code&gt;sudo&lt;/code&gt; set up so you don&amp;#8217;t have to type the root password, see &lt;a href="https://developers.redhat.com/blog/2018/08/15/how-to-enable-sudo-on-rhel/"&gt;How to enable sudo on Red Hat Enterprise Linux&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Happy ssh&amp;#8217;ing.&lt;/p&gt; &lt;p&gt;&lt;a class="a2a_button_facebook" href="https://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Facebook" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_twitter" href="https://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Twitter" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_google_plus" href="https://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Google+" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_linkedin" href="https://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="LinkedIn" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_email" href="https://www.addtoany.com/add_to/email?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Email" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_print" href="https://www.addtoany.com/add_to/print?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Print" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_reddit" href="https://www.addtoany.com/add_to/reddit?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Reddit" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_button_flipboard" href="https://www.addtoany.com/add_to/flipboard?linkurl=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;linkname=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" title="Flipboard" rel="nofollow noopener" target="_blank"&gt;&lt;/a&gt;&lt;a class="a2a_dd addtoany_share_save addtoany_share" href="https://www.addtoany.com/share#url=https%3A%2F%2Fdevelopers.redhat.com%2Fblog%2F2018%2F11%2F02%2Fhow-to-manually-copy-ssh-keys-rhel%2F&amp;#38;title=How%20to%20manually%20copy%20SSH%20public%20keys%20to%20servers%20on%20Red%20Hat%20Enterprise%20Linux" data-a2a-url="https://developers.redhat.com/blog/2018/11/02/how-to-manually-copy-ssh-keys-rhel/" data-a2a-title="How to manually copy SSH public keys to servers on Red Hat Enterprise Linux"&gt;&lt;img src="https://static.addtoany.com/buttons/favicon.png" alt="Share"&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The post &lt;a rel="nofollow" href="https://developers.redhat.com/blog/2018/11/02/how-to-manually-copy-ssh-keys-rhel/"&gt;How to manually copy SSH public keys to servers on Red Hat Enterprise Linux&lt;/a&gt; appeared first on &lt;a rel="nofollow" href="https://developers.redhat.com/blog"&gt;RHD Blog&lt;/a&gt;.&lt;/p&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/BKR5xDmSc0o" height="1" width="1" alt=""/&gt;</content><summary>We often use ssh-copy-id to copy ssh keys from our local Linux computers to RHEL servers in order to connect without typing in a password. This is not only for convenience; it enables you to script and automate tasks that involve remote machines.  Also, using ssh keys correctly is considered a best practice.  If you are conditioned to respond with your password every time you are prompted, you mig...</summary><dc:creator>Leo Ufimtsev</dc:creator><dc:date>2018-11-02T12:00:57Z</dc:date><feedburner:origLink>https://developers.redhat.com/blog/2018/11/02/how-to-manually-copy-ssh-keys-rhel/</feedburner:origLink></entry><entry><title>Infinispan triple connector release!</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/hfPaQZbyPhY/infinispan-triple-connector-release.html" /><category term="feed_group_name_infinispan" scheme="searchisko:content:tags" /><category term="feed_name_infinispan" scheme="searchisko:content:tags" /><author><name>Gustavo Fernandes</name></author><id>searchisko:content:id:jbossorg_blog-infinispan_triple_connector_release</id><updated>2018-11-05T07:51:24Z</updated><published>2018-11-02T10:57:00Z</published><content type="html">&lt;div dir="ltr" style="text-align: left;" trbidi="on"&gt;&lt;div class="separator" dir="rtl" style="clear: both; text-align: right;"&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;&lt;/div&gt;Infinispan Spark, Infinispan Hadoop and Infinispan Kafka have a new fresh release each!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3 style="text-align: left;"&gt;&lt;u&gt;Infinispan Spark 0.9&lt;/u&gt;&lt;/h3&gt;&lt;h3 style="text-align: left;"&gt;&amp;nbsp;&lt;/h3&gt;&lt;div style="text-align: left;"&gt;The native Apache Spark connector now supports Infinispan 9.4.x and Spark 2.3.2, and it exposes Infinispan's new transcoding capabilities, enabling the &lt;i&gt;InfinispanRDD&lt;/i&gt; and &lt;i&gt;InfinispanDStream&lt;/i&gt; to operate with multiple data formats. For more details see the &lt;a href="https://github.com/infinispan/infinispan-spark/blob/master/README.md#using-multiple-data-formats" target="_blank"&gt;documentation&lt;/a&gt;.&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style="text-align: left;"&gt;&lt;u&gt;Infinispan Hadoop 0.3&lt;/u&gt;&lt;/h3&gt;&lt;h3 style="text-align: left;"&gt;&lt;/h3&gt;&lt;h3 style="text-align: left;"&gt;&lt;/h3&gt;&lt;div style="text-align: left;"&gt;&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;/div&gt;&lt;div style="text-align: left;"&gt;The connector that allows accessing Infinispan using standard Input/OutputFormat interfaces now offers compatibility with Infinispan 9.4.x and has been certified to run with the Hadoop 3.1.1 runtime. For more details about this connector, see the &lt;a href="https://github.com/infinispan/infinispan-hadoop/blob/master/README.md" target="_blank"&gt;user manual&lt;/a&gt;. Also make sure to check the docker based demos: &lt;a href="https://github.com/infinispan/infinispan-hadoop/tree/master/samples/mapreduce" target="_blank"&gt;Infinispan + Yarn&lt;/a&gt; and &lt;a href="https://github.com/infinispan/infinispan-hadoop/tree/master/samples/flink" target="_blank"&gt;Infinispan + Apache Flink&lt;/a&gt;.&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;h3 style="text-align: left;"&gt;&lt;u&gt;Infinispan Kafka 0.3&lt;/u&gt;&lt;/h3&gt;&lt;h3 style="text-align: left;"&gt;&amp;nbsp;&lt;/h3&gt;&lt;div style="text-align: left;"&gt;Last but not least, the &lt;a href="https://github.com/infinispan/infinispan-kafka" target="_blank"&gt;Infinispan Kafka connector&lt;/a&gt; was upgraded to work with the latest Kafka (2.0.x) and Infinispan releases (9.4.x). Many thanks to &lt;a href="https://github.com/oscerd" target="_blank"&gt;Andrea Cosentino&lt;/a&gt; for contributing this integration.&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class="separator" style="clear: both; text-align: left;"&gt;&lt;a href="https://3.bp.blogspot.com/-ZU37uOY-U6o/W9wW5BsT2eI/AAAAAAAAAm8/XTAKrrcdvK8eo3j_gMdvtbshHOYR10aPwCEwYBhgL/s1600/connectors.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"&gt;&lt;img border="0" data-original-height="499" data-original-width="768" height="207" src="https://3.bp.blogspot.com/-ZU37uOY-U6o/W9wW5BsT2eI/AAAAAAAAAm8/XTAKrrcdvK8eo3j_gMdvtbshHOYR10aPwCEwYBhgL/s320/connectors.jpg" width="320" /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div style="text-align: left;"&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;img src="http://feeds.feedburner.com/~r/Infinispan/~4/4IkVcKvn6gs" height="1" width="1" alt=""/&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/hfPaQZbyPhY" height="1" width="1" alt=""/&gt;</content><summary>Infinispan Spark, Infinispan Hadoop and Infinispan Kafka have a new fresh release each! Infinispan Spark 0.9   The native Apache Spark connector now supports Infinispan 9.4.x and Spark 2.3.2, and it exposes Infinispan's new transcoding capabilities, enabling the InfinispanRDD and InfinispanDStream to operate with multiple data formats. For more details see the documentation. Infinispan Hadoop 0.3 ...</summary><dc:creator>Gustavo Fernandes</dc:creator><dc:date>2018-11-02T10:57:00Z</dc:date><feedburner:origLink>http://feedproxy.google.com/~r/Infinispan/~3/4IkVcKvn6gs/infinispan-triple-connector-release.html</feedburner:origLink></entry><entry><title>Infinispan 9.3.4.Final released!</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/Jau6-DVJwig/infinispan-934final-released.html" /><category term="feed_group_name_infinispan" scheme="searchisko:content:tags" /><category term="feed_name_infinispan" scheme="searchisko:content:tags" /><author><name>Gustavo Fernandes</name></author><id>searchisko:content:id:jbossorg_blog-infinispan_9_3_4_final_released</id><updated>2018-11-02T09:51:44Z</updated><published>2018-11-02T08:51:00Z</published><content type="html">&lt;div dir="ltr" style="text-align: left;" trbidi="on"&gt;This is a bug fix release and users currently on 9.3.x are encouraged to upgrade, specially when using the query functionality.&lt;br /&gt;&lt;br /&gt;For a list of fixes, please consult the &lt;a href="https://issues.jboss.org/secure/ReleaseNote.jspa?projectId=12310799&amp;amp;version=12339151" target="_blank"&gt;release notes&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;img src="http://feeds.feedburner.com/~r/Infinispan/~4/0bT7kZfwLHs" height="1" width="1" alt=""/&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/Jau6-DVJwig" height="1" width="1" alt=""/&gt;</content><summary>This is a bug fix release and users currently on 9.3.x are encouraged to upgrade, specially when using the query functionality. For a list of fixes, please consult the release notes.</summary><dc:creator>Gustavo Fernandes</dc:creator><dc:date>2018-11-02T08:51:00Z</dc:date><feedburner:origLink>http://feedproxy.google.com/~r/Infinispan/~3/0bT7kZfwLHs/infinispan-934final-released.html</feedburner:origLink></entry><entry><title>Near caching with Spring-Boot and Infinispan</title><link rel="alternate" href="http://feedproxy.google.com/~r/jbossbuzz/~3/05XNVlAKpjI/near-caching-with-spring-boot-and.html" /><category term="feed_group_name_infinispan" scheme="searchisko:content:tags" /><category term="feed_name_infinispan" scheme="searchisko:content:tags" /><category term="hotrod" scheme="searchisko:content:tags" /><category term="infinispan" scheme="searchisko:content:tags" /><category term="near caching" scheme="searchisko:content:tags" /><category term="Spring" scheme="searchisko:content:tags" /><category term="spring-boot" scheme="searchisko:content:tags" /><category term="spring-boot starters" scheme="searchisko:content:tags" /><author><name>Katia Aresti</name></author><id>searchisko:content:id:jbossorg_blog-near_caching_with_spring_boot_and_infinispan</id><updated>2018-11-02T08:27:45Z</updated><published>2018-11-02T08:27:00Z</published><content type="html">&lt;br /&gt;We have recently released &lt;a href="https://github.com/infinispan/infinispan-spring-boot" target="_blank"&gt;infinispan-spring-boot-starter&lt;/a&gt; &lt;b&gt;2.0.0.Final&lt;/b&gt;. This version supports &lt;a href="https://spring.io/projects/spring-boot" target="_blank"&gt;Spring Boot 2.1&lt;/a&gt; and &lt;a href="http://infinispan.org/" target="_blank"&gt;Infinispan 9.4.0.Final&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Before this release, some important features - such as near caching - were only configurable by code.&lt;br /&gt;From now on, we can set all of the Hot Rod client configuration using the &lt;b&gt;hotrod.properties&lt;/b&gt; file or the&amp;nbsp;&lt;a href="https://issues.jboss.org/browse/ISPN-9437" target="_blank"&gt;Spring application YAML&lt;/a&gt;. The latter is an important community requirement we had.&lt;br /&gt;&lt;br /&gt;Let's see how to speed up our applications performance with&amp;nbsp;&lt;a href="http://infinispan.org/docs/stable/user_guide/user_guide.html#near_caching" target="_blank"&gt;near caching&lt;/a&gt;!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;h3&gt;&lt;/h3&gt;&lt;h2&gt;&lt;/h2&gt;&lt;h2&gt;Hot Rod&lt;/h2&gt;&lt;h3&gt;&amp;nbsp;&lt;/h3&gt;Just as a quick reminder, Infinispan can be used embedded in your application or in &lt;b&gt;client/server&lt;/b&gt; mode. To connect you application to a server you can use an &lt;a href="http://infinispan.org/hotrod-clients/" target="_blank"&gt;Infinispan Client &lt;/a&gt;and the Infinispan &lt;a href="http://infinispan.org/docs/stable/user_guide/user_guide.html#hot_rod_server_usage" target="_blank"&gt;“Hot Rod Protocol”&lt;/a&gt;. Other protocols are available, such as REST, but Hot Rod is the most recommended way since it is the one that supports most of the Infinispan functionalities.&lt;br /&gt;&lt;br /&gt;&lt;h2&gt;Near cache&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;From the Infinispan &lt;a href="http://infinispan.org/docs/stable/user_guide/user_guide.html#near_caching" target="_blank"&gt;documentation&lt;/a&gt;: Hot Rod client can keep a local cache that stores recently used data. Enabling near caching can significantly improve the performance of read operations &lt;b&gt;get&lt;/b&gt; and &lt;b&gt;getVersioned&lt;/b&gt; since data can potentially be located locally within the Hot Rod client instead of having to go remote.&lt;br /&gt;&lt;br /&gt;&lt;h2&gt;When should I use it?&amp;nbsp;&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;Near caching can improve the performance of an application when most of the accesses to a given cache are read-only and the accessed dataset is relatively small.&lt;br /&gt;When an application is doing lots of writes to a cache, invalidations, evictions and updates to the near cache need to happen. In this scenario we won't probably get much benefit.&lt;br /&gt;&lt;br /&gt;As I said in the introduction, the good news is that &lt;b&gt;this feature can be activated just by configuration&lt;/b&gt;. Code doesn't change, so we can measure the benefits, if such exist, in a very straightforward way.&lt;br /&gt;&lt;br /&gt;&lt;h2&gt;Spring-Boot&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;I have created a very simple application, available &lt;a href="https://github.com/infinispan-demos/infinispan-near-cache" target="_blank"&gt;here&lt;/a&gt;. Maven, Java 8 and an Infinispan server are required to run it. You can &lt;a href="http://downloads.jboss.org/infinispan/9.4.0.Final/infinispan-server-9.4.0.Final.zip" target="_blank"&gt;download the server&lt;/a&gt; or use&amp;nbsp;&lt;a href="https://hub.docker.com/r/jboss/infinispan-server/" target="_blank"&gt;docker&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style="background-color: black; color: yellow;"&gt;&lt;span style="font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;Docker: docker run -it -p 11222:11222 jboss/infinispan-server:9.4.0.Final&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace; font-size: x-small;"&gt;&lt;br /&gt;&lt;/span&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;Standalone: PATH/infinispan-server-9.4.0.Final/bin/standalone.sh&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;Once the server is up and running, build the application using maven&amp;nbsp; &lt;br /&gt;&lt;br /&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;&amp;gt;&amp;gt; infinispan-near-cache: mvn clean install&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;h3&gt;Writer&amp;nbsp;&lt;/h3&gt;&lt;br /&gt;This application loads the required data to a remote cache: a list of some of the Infinispan contributors over the last decade.&lt;br /&gt;&lt;div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-size: medium; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style="-webkit-text-stroke-width: 0px; color: black; font-family: Times; font-style: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: 400; letter-spacing: normal; margin: 0px; orphans: 2; text-align: start; text-decoration-color: initial; text-decoration-style: initial; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px;"&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;&amp;gt;&amp;gt; writer: mvn spring-boot:run&lt;/span&gt;&lt;/div&gt;&lt;br/&gt;&lt;script src="https://gist.github.com/karesti/b78767c42ab5670ebcbe5171744743cd.js"&gt;&lt;/script&gt; &lt;br /&gt;&lt;h3&gt;Reader&amp;nbsp;&lt;/h3&gt;&lt;br /&gt;The reader application does 10.000 accesses to the contributors cache. Using a random id, I call 10.000 times the &lt;span style="font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;get&lt;/span&gt; method. The job gets done in my laptop in ~4000 milliseconds.&lt;br /&gt;&lt;br /&gt;&lt;span style="background-color: black; color: yellow; font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;&amp;gt;&amp;gt; reader-no-near-cache: mvn spring-boot:run&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;script src="https://gist.github.com/karesti/7d24aaae69d3dcebdca644f68395d1d6.js"&gt;&lt;/script&gt;&lt;br /&gt;&lt;h2&gt;Activating the near cache&lt;/h2&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I need to configure two properties:&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Near Cache Mode:&lt;/b&gt; DISABLED or INVALIDATED. Default value is DISABLED, so I turn it on with &lt;b&gt;INVALIDATED&lt;/b&gt;.&lt;/li&gt;&lt;li&gt;&lt;b&gt;Max Entries: &lt;/b&gt;Integer value that sets the max size of the near caches. There is no default value, so I set up one.&lt;/li&gt;&lt;/ul&gt;The hotrod client configuration is &lt;u&gt;for each client&lt;/u&gt;, &lt;u&gt;not for each cache&lt;/u&gt; (this might change in the future). With that in mind, note that configuring the previous properties will activate near caching &lt;b&gt;for all the caches&lt;/b&gt;. If you need to activate it just for &lt;b&gt;some of them&lt;/b&gt;, add the following property:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Cache Name Pattern: &lt;/b&gt;&amp;nbsp;String pattern. For example "i8n-.*" will activate the near caching for all the caches whose name starts by "i8n-".&lt;/li&gt;&lt;/ul&gt;&lt;br /&gt;Configuration can be placed in the &lt;b&gt;hotrod-client.properties&lt;/b&gt;, &lt;b&gt;Spring-boot configuration&lt;/b&gt; or &lt;b&gt;code&lt;/b&gt;.&lt;br /&gt;&lt;h4&gt;hotrod-client.properties&lt;/h4&gt;&lt;div&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&lt;b&gt;&lt;span style="color: blue;"&gt;infinispan.client.hotrod.near_cache.mode=&lt;/span&gt;&lt;/b&gt;INVALIDATED&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&lt;b&gt;&lt;span style="color: blue;"&gt;infinispan.client.hotrod.near_cache.max_entries=&lt;/span&gt;&lt;/b&gt;40&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&lt;span style="background-color: white;"&gt;&lt;span style="color: blue;"&gt;&lt;b&gt;infinispan.client.hotrod.near_cache.cache_name_pattern=&lt;/b&gt;&lt;/span&gt;&lt;/span&gt;i8n-.*&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;h4&gt;application.yaml (or properties)&lt;/h4&gt;&lt;div&gt;&lt;b&gt;&lt;span style="color: blue; font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;infinispan:&lt;/span&gt;&lt;/b&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;span style="color: blue;"&gt;remote:&lt;/span&gt;&lt;/b&gt;&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;span style="color: blue;"&gt;near-cache-mode:&lt;/span&gt;&lt;/b&gt; INVALIDATED&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;span style="color: blue;"&gt;near-cache-max-entries:&lt;/span&gt;&lt;/b&gt; 10&lt;/span&gt;&lt;br /&gt;&lt;span style="font-family: &amp;quot;trebuchet ms&amp;quot; , sans-serif;"&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;b&gt;&lt;span style="color: blue;"&gt;near-cache-cache-name-pattern:&lt;/span&gt; &lt;/b&gt;i8n-.*&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;h4&gt;code&amp;nbsp;&lt;/h4&gt;&lt;/div&gt; With the Infinispan Spring-Boot Starter, I can add custom configuration using the &lt;span style="font-family: &amp;quot;courier new&amp;quot; , &amp;quot;courier&amp;quot; , monospace;"&gt;&lt;b&gt;InfinispanRemoteCacheCustomizer&lt;/b&gt;&lt;/span&gt;. &lt;br /&gt;&lt;br /&gt;&lt;script src="https://gist.github.com/karesti/ee4b0cb3e1a99fdb37dc0cae649bb73b.js"&gt;&lt;/script&gt; &lt;br /&gt;&lt;h2&gt;Results&lt;/h2&gt;&lt;br /&gt;&lt;div&gt;My dataset contains 25 contributors. If I activate the near cache with max 12 entries and I run my reader again, I get the job done in ~1900 milliseconds, which is already an improvement. If I configure it to hold the complete dataset, I get it done in ~220 milliseconds, which is a big one!&lt;br /&gt;&lt;br /&gt;&lt;h2&gt;Conclusions&lt;/h2&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Near caching can help us speed up our client applications if configured properly. We can test our tuning easily because we only need to add some configuration to the client. Finally, the &lt;a href="https://github.com/infinispan/infinispan-spring-boot" target="_blank"&gt;Spring-Boot Infinispan Starter&lt;/a&gt; helps us build services with Spring-Boot and Infinispan.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Further work will be done to help Spring-Boot users work with Infinispan, so stay tuned! Any feedback on the starter or any requirement from the community is more that welcome. Find us in&amp;nbsp;&lt;a href="https://infinispan.zulipchat.com/" target="_blank"&gt;Zulip Chat &lt;/a&gt;for direct contact or post your questions in &lt;a href="https://stackoverflow.com/questions/tagged/?tagnames=infinispan&amp;amp;sort=newest" target="_blank"&gt;StackOverflow&lt;/a&gt;!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;/div&gt;&lt;img src="http://feeds.feedburner.com/~r/Infinispan/~4/wrlxqFtrjPU" height="1" width="1" alt=""/&gt;&lt;img src="http://feeds.feedburner.com/~r/jbossbuzz/~4/05XNVlAKpjI" height="1" width="1" alt=""/&gt;</content><summary>We have recently released infinispan-spring-boot-starter 2.0.0.Final. This version supports Spring Boot 2.1 and Infinispan 9.4.0.Final. Before this release, some important features - such as near caching - were only configurable by code. From now on, we can set all of the Hot Rod client configuration using the hotrod.properties file or the Spring application YAML. The latter is an important commun...</summary><dc:creator>Katia Aresti</dc:creator><dc:date>2018-11-02T08:27:00Z</dc:date><feedburner:origLink>http://feedproxy.google.com/~r/Infinispan/~3/wrlxqFtrjPU/near-caching-with-spring-boot-and.html</feedburner:origLink></entry></feed>
